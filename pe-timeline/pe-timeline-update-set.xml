<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2017-03-01 09:12:16">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>Timeline</name>
<origin_sys_id/>
<release_date/>
<remote_sys_id>88a344a01319ba007e94fc5ed144b070</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>fabio.petito</sys_created_by>
<sys_created_on>2017-03-01 09:12:16</sys_created_on>
<sys_id>b4211e24131dba007e94fc5ed144b086</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>fabio.petito</sys_updated_by>
<sys_updated_on>2017-03-01 09:12:16</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_eab344e01319ba007e94fc5ed144b041</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function($rootScope, $scope) {
  /* widget controller */
  var c = this;

  Object.size = function (obj) {
    var size = 0, key;
    for (key in obj) {
      if (obj.hasOwnProperty(key)) size++;
    }
    return size;
  };

  c.initialEvents = [
    {
      description: 'Automated Event Correlation',
      time: '14:22',
      icon: 'fa fa-bolt fa-lg',
      stats: [
        { name: 'Events', value: 20 },
        { name: 'Sources', value: 5 }
      ]
    },
    {
      description: 'Automated Service Correlation',
      time: '14:22',
      icon: 'fa fa-bolt fa-lg',
      stats: [
        { name: 'In Total', value: 2 },
        { name: 'Tier 1 Service', value: 1, iconSuffix: 'fa fa-shopping-cart fa-lg' }
      ]
    },
    {
      description: 'Automated Risk Assessment',
      time: '14:23',
      icon: 'fa fa-bolt fa-lg',
      stats: [
        { value: '1.2M', icon: 'fa fa-usd fa-lg' },
        { value: '42K', icon: 'fa fa-users fa-lg' },
        { value: '3', icon: 'fa fa-globe fa-lg' }
      ]
    }
  ];

  c.itemCount = Object.size(c.initialEvents);
  c.fadeOldEvents = true;
  c.shownInitialEvents = 0;


  $rootScope.$on('recovered', function () {
    c.recovered = true;
    c.shownInitialEvents = 0;
    $rootScope.$broadcast('countItems', {
      widget: 'pe-timeline',
      count: 3 + c.newEvents.length
    });
  });


  c.nextInitialEvent = function () {
    if (c.shownInitialEvents &lt; c.initialEvents.length) {
      c.shownInitialEvents++
    } else {
      c.shownInitialEvents = 0;
      c.fadeOldEvents = true;
    }
  }

  c.expandInitialEvents = function () {
    c.shownInitialEvents = c.initialEvents.length;
    c.fadeOldEvents = false;
  }

  c.collapseInitialEvents = function () {
    c.shownInitialEvents = 0;
    c.fadeOldEvents = true;
  }

}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;$list-item-color: #ff6f00;&amp;#13;
&amp;#13;
.expanded {&amp;#13;
  .panel-proper {&amp;#13;
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.15);&amp;#13;
  }&amp;#13;
  .panel-drawer {&amp;#13;
    transform: translateY(0);&amp;#13;
  }&amp;#13;
  .panel-drawer-wrapper {&amp;#13;
    max-height: 1000px;&amp;#13;
  }&amp;#13;
}&amp;#13;
&amp;#13;
.panel-wrapper {&amp;#13;
  margin-bottom: 10px;&amp;#13;
}&amp;#13;
&amp;#13;
.panel-wrapper.expanded-wrapper {&amp;#13;
  height: 900px;&amp;#13;
}&amp;#13;
&amp;#13;
.panel-proper {&amp;#13;
  background-color: #fff;&amp;#13;
  border-radius: 5px;&amp;#13;
  transition: box-shadow 0.5s;&amp;#13;
}&amp;#13;
&amp;#13;
.panel-header {&amp;#13;
  position: relative;&amp;#13;
  padding: 7px 12px;&amp;#13;
  font-size: 16px;&amp;#13;
  font-weight: 600;&amp;#13;
  border-bottom: 0.5px solid #7E848B;&amp;#13;
}&amp;#13;
&amp;#13;
.counter {&amp;#13;
  display: inline-block;&amp;#13;
  background-color: #7e848b;&amp;#13;
  width: 22px;&amp;#13;
  height: 22px;&amp;#13;
  fill: #fff;&amp;#13;
  color: #fff;&amp;#13;
  text-align: center;&amp;#13;
  border-radius: 11px;&amp;#13;
  margin: 0 2px;&amp;#13;
  font-weight: 400;&amp;#13;
  &amp;amp;:first-child {&amp;#13;
    margin-left: -5px;&amp;#13;
  }&amp;#13;
}&amp;#13;
&amp;#13;
.timeline-icon {&amp;#13;
  display: inline-block;&amp;#13;
  background-color: #7e848b;&amp;#13;
  width: 1.6em;&amp;#13;
  height: 1.6em;&amp;#13;
  text-align: center;&amp;#13;
  border-radius: 11px;&amp;#13;
  position: absolute;&amp;#13;
  top: 0px;&amp;#13;
  left: -6.5px;&amp;#13;
  &amp;amp;:first-child {&amp;#13;
    margin-left: -5px;&amp;#13;
  }&amp;#13;
}&amp;#13;
&amp;#13;
.tl-icon {&amp;#13;
  color: #fff;&amp;#13;
  position: absolute;&amp;#13;
  top: 0px;&amp;#13;
  left: -5px;&amp;#13;
  text-align: center;&amp;#13;
}&amp;#13;
&amp;#13;
.panel-content {&amp;#13;
  padding: 12px;&amp;#13;
}&amp;#13;
&amp;#13;
.stat-text {&amp;#13;
  vertical-align: middle;&amp;#13;
}&amp;#13;
&amp;#13;
.tl-time {&amp;#13;
  font-size: 14px;&amp;#13;
  opacity: 0.7;&amp;#13;
  display: inline-block;&amp;#13;
  width: 40px;&amp;#13;
  vertical-align: top;&amp;#13;
}&amp;#13;
&amp;#13;
.tl-item {&amp;#13;
  font-size: 14px;&amp;#13;
  opacity: 0.7;&amp;#13;
}&amp;#13;
&amp;#13;
.tl-time {&amp;#13;
  display: inline-block;&amp;#13;
  width: 40px;&amp;#13;
  vertical-align: top;&amp;#13;
}&amp;#13;
&amp;#13;
.tl-item.not-faded {&amp;#13;
  opacity: 1;&amp;#13;
}&amp;#13;
&amp;#13;
.tl-item.tl-item-summary {&amp;#13;
  opacity: 1;&amp;#13;
  .tl-icon {&amp;#13;
    color: #fff;&amp;#13;
  }&amp;#13;
}&amp;#13;
&amp;#13;
.tl-item:last-child {&amp;#13;
  opacity: 1;&amp;#13;
  .tl-content {&amp;#13;
    border-left-color: rgba(0, 0, 0, 0);&amp;#13;
  }&amp;#13;
}&amp;#13;
&amp;#13;
.tl-content {&amp;#13;
  margin-left: 10px;&amp;#13;
  position: relative;&amp;#13;
  display: inline-block;&amp;#13;
  width: 265px;&amp;#13;
  border-left: 1px solid #485563;&amp;#13;
  padding: 0 5px 5px 20px;&amp;#13;
}&amp;#13;
&amp;#13;
.tl-content&amp;gt;* {&amp;#13;
  margin-bottom: 5px;&amp;#13;
}&amp;#13;
&amp;#13;
.key-value {&amp;#13;
  color: $list-item-color;&amp;#13;
  fill: $list-item-color;&amp;#13;
  font-size: 36px;&amp;#13;
  font-weight: 200;&amp;#13;
  height: 40px;&amp;#13;
  white-space: nowrap;&amp;#13;
  line-height: 1;&amp;#13;
  &amp;amp;.key-smaller {&amp;#13;
    font-size: 24px;&amp;#13;
    height: 24px;&amp;#13;
  }&amp;#13;
  &amp;amp;.key-bigger {&amp;#13;
    font-size: 44px;&amp;#13;
    height: 44px;&amp;#13;
  }&amp;#13;
}&amp;#13;
&amp;#13;
.icon-inline {&amp;#13;
  vertical-align: middle;&amp;#13;
}&amp;#13;
&amp;#13;
.subtitle {&amp;#13;
  font-size: 15px;&amp;#13;
  padding-top: 4px;&amp;#13;
}&amp;#13;
&amp;#13;
.expander-button-wrapper {&amp;#13;
  text-align: center;&amp;#13;
  margin: 10px 0;&amp;#13;
}&amp;#13;
&amp;#13;
.expander-button {&amp;#13;
  display: inline-block;&amp;#13;
  padding: 3px 10px;&amp;#13;
  border-right: 1px solid #7e848b;&amp;#13;
}&amp;#13;
&amp;#13;
.expander-button:last-child {&amp;#13;
  border-right: none;&amp;#13;
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;pe-timeline&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;Timeline&lt;/name&gt;&lt;option_schema&gt;[{"name":"title","default_value":"Alert Timeline","label":"Title","type":"string"}]&lt;/option_schema&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	data.title = options.title || input.title;

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;fabio.petito&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-28 22:57:31&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;eab344e01319ba007e94fc5ed144b041&lt;/sys_id&gt;&lt;sys_mod_count&gt;125&lt;/sys_mod_count&gt;&lt;sys_name&gt;Timeline&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_eab344e01319ba007e94fc5ed144b041&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;fabio.petito&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-01 09:08:23&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div ng-show="!(c.recovered)" class="panel-wrapper" ng-class="{ 'expanded': c.expanded, 'expanded-wrapper': c.expandedWrapper }"&gt;
  &lt;div class="panel-proper"&gt;
    &lt;div class="panel-header"&gt;
      &lt;span&gt;{{c.data.title}}&lt;/span&gt;
      &lt;span class="counter"&gt;
				{{c.itemCount}}
			&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="panel-content"&gt;

      &lt;div&gt;

        &lt;div ng-repeat="item in c.initialEvents | limitTo: c.shownInitialEvents" class="tl-item" ng-class="c.fadeOldEvents ? '' : 'not-faded' "
          ng-click="c.nextInitialEvent()"&gt;
          &lt;div class="tl-time"&gt;{{item.time}}&lt;/div&gt;
          &lt;div class="tl-content"&gt;
            &lt;div class="timeline-icon"&gt;&lt;/div&gt;
            &lt;div class="tl-icon"&gt;
              &lt;i class="{{item.icon}}"&gt;&lt;/i&gt;
            &lt;/div&gt;
            &lt;div&gt;{{item.description}}&lt;/div&gt;
            &lt;div ng-if="item.stats" class="row text-center"&gt;
              &lt;div ng-repeat="stat in item.stats" class="col-xs-{{ 12 / item.stats.length }}"&gt;
                &lt;div class="key-value key-smaller"&gt;
                  &lt;span ng-if="stat.icon" class="icon-inline"&gt;
							&lt;i class="{{stat.icon}}"&gt;&lt;/i&gt;
						&lt;/span&gt;
						&lt;span class="stat-text"&gt;{{stat.value}}&lt;/span&gt;
                  &lt;span ng-if="stat.iconSuffix" class="icon-inline"&gt;
&lt;i class="{{stat.iconSuffix}}"&gt;&lt;/i&gt;
&lt;/span&gt;
                &lt;/div&gt;
                &lt;div class="subtitle"&gt;
                  {{stat.name}}
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div ng-if="!c.recovered &amp;&amp; c.shownInitialEvents === 0" class="expander-button-wrapper"&gt;
          &lt;div class="expander-button" ng-click="c.expandInitialEvents()"&gt;
            &lt;span class="icon-inline"&gt;
						&lt;i class="fa fa-expand fa-lg"&gt;&lt;/i&gt;

			&lt;/span&gt; Expand Timeline
          &lt;/div&gt;
          &lt;div class="expander-button" ng-click="c.nextInitialEvent()"&gt;
            &lt;span class="icon-inline"&gt;
				&lt;i class="fa fa-play-circle-o fa-lg"&gt;&lt;/i&gt;


			&lt;/span&gt; Timeline Playback
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div ng-if="!c.recovered &amp;&amp; c.shownInitialEvents &gt; 0" class="expander-button-wrapper"&gt;
        &lt;div class="expander-button" ng-click="c.collapseInitialEvents()"&gt;
          &lt;span class="icon-inline"&gt;
			&lt;i class="fa fa-compress fa-lg"&gt;&lt;/i&gt;
		&lt;/span&gt; Collapse Timeline
        &lt;/div&gt;
        &lt;div ng-if="c.shownInitialEvents &lt; c.initialEvents.length" class="expander-button" ng-click="c.nextInitialEvent()"&gt;
          &lt;span class="icon-inline"&gt;
			&lt;i class="fa fa-play-circle-o fa-lg"&gt;&lt;/i&gt;
		&lt;/span&gt; Continue Playback
        &lt;/div&gt;
      &lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;

&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="Timeline">b4211e24131dba007e94fc5ed144b086</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>fabio.petito</sys_created_by>
<sys_created_on>2017-03-01 09:12:16</sys_created_on>
<sys_id>78211e24131dba007e94fc5ed144b086</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>fabio.petito</sys_updated_by>
<sys_updated_on>2017-03-01 09:12:16</sys_updated_on>
<table/>
<target_name>Timeline</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
