<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2019-09-30 09:21:51">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description> </description>
<inserted/>
<name>SC Order Guide Alt</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>d84422ccdbdc081090c6d6a75e9619c8</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>e3862e00db10481090c6d6a75e9619a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_column_917de81bdb77f34090c6d6a75e9619c9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_column"><sp_column action="INSERT_OR_UPDATE"><class_name/><order>1</order><size>12</size><size_lg/><size_sm/><size_xs/><sp_row display_value="1">197de01bdb77f34090c6d6a75e9619cf</sp_row><sys_class_name>sp_column</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:21:37</sys_created_on><sys_id>917de81bdb77f34090c6d6a75e9619c9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>1</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>sp_column_917de81bdb77f34090c6d6a75e9619c9</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:21:37</sys_updated_on></sp_column></record_update>]]></payload>
<payload_hash>1566430190</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>33862e00db10481090c6d6a75e9619a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170b0140000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>1</target_name>
<type>Column</type>
<update_domain>global</update_domain>
<update_guid>917de81bc777f340972603dfe6ceaeca</update_guid>
<update_guid_history>917de81bc777f340972603dfe6ceaeca:1566430190</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sys_app_351ae457db77f34090c6d6a75e96197d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_app"><sys_app action="INSERT_OR_UPDATE"><active>true</active><can_edit_in_studio>false</can_edit_in_studio><enforce_license>log</enforce_license><js_level>helsinki_es5</js_level><licensable>true</licensable><license_category>none</license_category><license_model>none</license_model><logo/><menu/><name>SC Order Guide Alt</name><private>false</private><restrict_table_access>false</restrict_table_access><runtime_access_tracking>permissive</runtime_access_tracking><scope>global</scope><scoped_administration>false</scoped_administration><short_description/><source>351ae457db77f34090c6d6a75e96197d</source><store_correlation_id/><store_url/><sys_class_name>sys_app</sys_class_name><sys_code/><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:06:54</sys_created_on><sys_id>351ae457db77f34090c6d6a75e96197d</sys_id><sys_mod_count>1</sys_mod_count><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-16 21:53:26</sys_updated_on><template/><trackable>true</trackable><user_role/><vendor/><vendor_prefix/><version>1.0.0</version></sys_app></record_update>]]></payload>
<payload_hash>-11270786</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>3b862e00db10481090c6d6a75e9619a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170af6e0000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>SC Order Guide Alt</target_name>
<type>Custom Application</type>
<update_domain>global</update_domain>
<update_guid>385c01f3acbf3740305b2659cbf54a79</update_guid>
<update_guid_history>385c01f3acbf3740305b2659cbf54a79:-11270786,b11a6097f077f3404e43ace579989da8:1751293398</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_page_28ece01bdb77f34090c6d6a75e9619c8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_page"><sp_page action="INSERT_OR_UPDATE"><category>custom</category><css/><draft>false</draft><dynamic_title_structure/><id>sc_order_guide_alt</id><internal>false</internal><public>false</public><roles/><short_description/><sys_class_name>sp_page</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:19:06</sys_created_on><sys_id>28ece01bdb77f34090c6d6a75e9619c8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sc_order_guide_alt</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>sp_page_28ece01bdb77f34090c6d6a75e9619c8</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:19:06</sys_updated_on><title>SC Order Guide Alt</title></sp_page><sys_translated_text action="delete_multiple" query="documentkey=28ece01bdb77f34090c6d6a75e9619c8"/></record_update>]]></payload>
<payload_hash>635957092</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>3f862e00db10481090c6d6a75e9619a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170afee0000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>sc_order_guide_alt</target_name>
<type>Page</type>
<update_domain>global</update_domain>
<update_guid>24ece01b4a77f340f3cc7193c81752ca</update_guid>
<update_guid_history>24ece01b4a77f340f3cc7193c81752ca:635957092</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>m2m_sp_widget_dependency_8e5aa497db77f34090c6d6a75e961923</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_widget_dependency"><m2m_sp_widget_dependency action="INSERT_OR_UPDATE"><sp_dependency display_value="sp_codemirror_includes">016f19255b301200e39fc7ad31f91abd</sp_dependency><sp_widget display_value="SC Order Guide Alt">0a5aa097db77f34090c6d6a75e961993</sp_widget><sys_class_name>m2m_sp_widget_dependency</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:08:01</sys_created_on><sys_id>8e5aa497db77f34090c6d6a75e961923</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sp_codemirror_includes.Copy of SC Order Guide</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>m2m_sp_widget_dependency_8e5aa497db77f34090c6d6a75e961923</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:08:01</sys_updated_on></m2m_sp_widget_dependency></record_update>]]></payload>
<payload_hash>1136860923</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>6f862e00db10481090c6d6a75e9619a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170af8d0000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>sp_codemirror_includes.Copy of SC Order Guide</target_name>
<type>Widget Dependency</type>
<update_domain>global</update_domain>
<update_guid>825aa497ff77f340d5b1656968726b25</update_guid>
<update_guid_history>825aa497ff77f340d5b1656968726b25:1926112422,825aa497ff77f340d5b1656968726b25:1926112422</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_widget_0a5aa097db77f34090c6d6a75e961993</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;sc&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function ogAltCtrl($scope, $http, nowServer, $timeout, spUtil, spModal, i18n, $window, $location, spAriaUtil, nowAttachmentHandler, $log, $sce, $q, spAtf, spSCNavStateManager) {
	var c = this;
  $scope.guide_step = 0;
  $scope.item_step = 0;
	$scope.m = $scope.data.msgs;
	$scope.evaluatingIncludes = false;
	
	$rootScope.$on('spModel.gForm.rendered', function() {
		$timeout(function() {
      spAtf.init().then(function(atf) {
        $scope._atf = atf;
        atf.expose('catalog_util', catalogUtil);
      });
		}, 10);
	});
	
	var catalogUtil = {
		updateGform: function() {
			var g_form = getCurrentGForm();
			if (g_form)
				$scope._atf.expose('g_form', spAtf.augmentForm(g_form));
		},
		
		addRow: function(fieldId, timeoutInMS) {
			var deferred = $q.defer();
			var g_form = getCurrentGForm();
			if (g_form) {
				if (timeoutInMS &lt;= 0)
					timeoutInMS = 1000;
				$scope.$broadcast("$sp.sc_multi_row.create_row", fieldId, g_form.getSysId());
				$scope.$on('spModel.gForm.initialized', function(e, gFormInstance) {
					if (gFormInstance.getSysId() == fieldId)
						deferred.resolve();
				});
				$timeout(function() {
					deferred.reject();
				}, timeoutInMS);
			}
			else
				deferred.reject();
			return deferred.promise;
		},
		
		navigateToStep: function(num, timeout) {
			var defer = $q.defer();
			var step = parseInt(num) - 1;
			if (Math.abs(step - $scope.guide_step) != 1) {
				defer.reject("Can't navigate to next step");
				return defer.promise;
			}
			if (step &gt; $scope.guide_step)
				$scope.goNext(timeout);
			else {
				$scope.goPrev();
				defer.resolve();
			}
			var cleanup = $scope.$on('$sp.service_catalog.form_submit_failed', function() {
					cleanup();
					defer.reject("Can't navigate to next step");
			});
			var cleanup1 = $scope.$on('$sp.service_catalog.form_submitted', function() {
				cleanup1();
				defer.resolve("Can navigate to next step");
			});
			return defer.promise;
		},
		
		validateIncludedList: function(list, stage) {
			var items = list.split(',').reduce(function(obj, item) {
				obj[item] = false;
				return obj;
			}, {});
			var included = stage == 1 ? $scope.includedItems : $scope.includedItems.filter(function(item) {
				return item.included == true;
			});
			if (Object.keys(items).length != included.length)
				return false;
			for (var i = 0; i &lt; included.length; i++)
				if (!items.hasOwnProperty(included[i].sys_id))
					return false;
			return true;
		},
		
		openItem: function(item, state, timeoutInMS) {
			if (timeoutInMS &lt;= 0)
				timeoutInMS = 10000;
			var defer = $q.defer();
			if (includedGformInstances[item]) {
				openItemHelper(item, state, defer);
			}
			$scope.$on('spModel.gForm.initialized', function(e, gFormInstance) {
				if (gFormInstance.getSysId() == item) {
					openItemHelper(item, state, defer);
				}
			});
			$timeout(function() {
				defer.reject();
			}, timeoutInMS);
			return defer.promise;
		},
		
		getPrice: function() {
			var res = {};
			var item = $scope.includedItems.find(function(itemData) {
				return itemData.isOpen == true;
			});
			if (item) {
				res.price = item.price;
				res.recurring_price = item.recurring_price;
				res.recurring_frequency = item.recurring_frequency;
			}
			return res;
		},
		
		getGuidePrice: function() {
			return $scope.price_display;
		},
	
		addToCart: function() {
			var defer = $q.defer();
			$scope.triggerAddToCart();
			if (!$scope.submitted)
				defer.reject("Can't submit form.");
			else
				defer.resolve();
			return defer.promise;
		},
		
		submitOrderGuide: function() {
			var defer = $q.defer();
			if ($scope.triggerSubmit()) {
				if ($scope.data.sys_properties.twostep &amp;&amp; $scope.data.sc_cat_item.request_method != "submit") {
					defer.resolve();
				}
				else{
					var cleanUp = $scope.$on('$sp.sc_order_guide.submitted', function(o, result) {
						$timeout(function() {
							cleanUp();
							result.single_step = true;
							defer.resolve(result);
						}, 10);
					});
				}
			}
			else
				defer.reject();
			return defer.promise;
		}
	};
	
	function getCurrentGForm() {
		if ($scope.guide_step == 0)
			return includedGformInstances[$scope.data.sc_cat_item.sys_id];
    else {
			var openItem = $scope.includedItems.find(function(item){
				return item.isOpen === true;
			});
			return includedGformInstances[openItem.sys_id];
		}
	}

	$scope.showItem = function(index) {
		if($scope.itemShown == index)
			$scope.itemShown = -1;
		else
			$scope.itemShown = index;
  }
  
  $scope.goNext = function(timeout) {
    if ($scope.guide_step === 0)
      $scope.goToStepItem(1,0,timeout);
    else if (!$scope.includedItems || $scope.item_step === ($scope.includedItems.length - 1) )
      $scope.goToStepItem(2,null,timeout);
    else
      $scope.goToStepItem( 1, $scope.item_step + 1,timeout);
  }

  $scope.goPrev = function(timeout) {
    if ($scope.guide_step === 2)
      $scope.goToStepItem(1, ($scope.includedItems ? $scope.includedItems.length-1 : null),timeout );
    else if ($scope.item_step === 0)
      $scope.goToStepItem(0,null,timeout);
    else
      $scope.goToStepItem( 1, $scope.item_step - 1,timeout );
  }

  $scope.goToStepItem = function(step, item, timeout) {
    
    console.log(step, item, $scope);
    switch (step) {

      case 0:
        if ($scope.guide_step === 0) return;
        else {
          $scope.includedItems.forEach(function (item) {
            item.isOpen = false;
          });
          $scope.guide_step = 0;
          //spSCNavStateManager.unregisterForms(Object.keys(includedGformInstances));
        }
        break;

      case 1:
        $scope.item_step = item;
        if ($scope.guide_step === 0) {
          var gForm;
          $scope.$evalAsync(function () {
            gForm = includedGformInstances[$scope.data.sys_id];
            if(gForm &amp;&amp; !gForm.submit()) {
              timeout = timeout || 2000;
              $timeout(function () {
                $scope.$broadcast('$sp.service_catalog.form_submit_failed', {action_name: 'submit'});
              }, timeout);
            }
          });
        } else $scope.guide_step = 1;
        break;

      case 2:
        if ($scope.guide_step === 2) return;
        $scope.$evalAsync(function () {
          for (var i = 0; i &lt; $scope.includedItems.length; i++) {
            if ($scope.includedItems[i].included) {
              var g_form = includedGformInstances[$scope.includedItems[i].sys_id];
              g_form.$private.processed = false;
              if (g_form &amp;&amp; !g_form.submit()) {
								$scope.includedItems[i].field_values = [];
								$scope.includedItems[i]._sections.forEach( function(section) {
									section.columns.forEach(function(column){
										column.fields.forEach(function(field){
											if (field.type == "field") {
												$scope.includedItems[i].field_values.push({
													label: $scope.includedItems[i]._fields[field.name].label,
													display_value: $scope.includedItems[i]._fields[field.name].displayValue,
													visible: $scope.includedItems[i]._fields[field.name].visible
												});
											}
										});
									});
								});
								
                timeout = timeout || 1000;
                $scope.includedItems[i].isOpen = true;
                $timeout(function () {
                  $scope.$broadcast('$sp.service_catalog.form_submit_failed', {action_name: 'submit'});
                  for (var i =0; i &lt; $scope.includedItems.length; i++) {
                    var mandatory = $scope.includedItems[i]._mandatory;
                    if (mandatory &amp;&amp; mandatory.length &gt; 0) {
                      var elems = angular.element("[name*='" + mandatory[0].name + "']");
                      if (elems &amp;&amp; elems.length &gt; 0) { 
                        $scope.item_step = i; //go to item with first unfilled mandatory
                        elems[0].focus(); //set focus the first element
                        return;
                      }
                    }
                  }
                }, timeout);
              }
            }
          }
        });
        break;

      default:
        return;
    }
  }
	
	$scope.toggleItemState = function(item) {
		if(item.included) {
			$scope.totalIncluded--;
			angular.element('#item_details_' + item.sys_id).find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').attr('tabindex', -1);
		}
		else {
			$scope.totalIncluded++;
			angular.element('#item_details_' + item.sys_id).find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').removeAttr('tabindex');
		}
	}
	
	function processChooseOptions() {
		var canSubmit = true;
		
		for (var i = 0; i &lt; $scope.includedItems.length; i++) {
      if ($scope.includedItems[i].included) {
        var gForm = includedGformInstances[$scope.includedItems[i].sys_id];
        if (gForm &amp;&amp; !gForm.$private.processed) {
          canSubmit = false;
          break;
        }
      }
		}
		if(canSubmit) {
			evalGuidePrice();
			spSCNavStateManager.unregisterForms(Object.keys(includedGformInstances));
			$scope.$broadcast('$sp.service_catalog.form_submitted', {action_name: 'submit'});
      $scope.guide_step = 2;
		}
	}
  
	// Breadcrumbs
	if ($scope.data.sc_cat_item) {
		$scope.data.sc_cat_item.description = $sce.trustAsHtml($scope.data.sc_cat_item.description);
		if (!$scope.data.categories)
			$scope.data.categories = [];
		$scope.data.categories.forEach(function(category, index, categories){
			categories[index].url = category.url + '&amp;catalog_id=' + $scope.data.catalog_id;
		});
		if ($scope.data.categories.length &gt; 0) {
			$scope.data.categories.unshift({label: $scope.data.sc_catalog || $scope.page.title, url: '?id=' + $scope.data.sc_category_page});
			$scope.data.categories.push({label: $scope.data.sc_cat_item.name, url: '#'});
			if ($scope.data.all_catalog_msg) {
				$scope.data.categories.unshift({label: $scope.data.all_catalog_msg, url: '?id=' + $scope.data.sc_category_page + "&amp;catalog_id=-1"});
			}
		}
		else {
			$scope.data.categories.push({label: $scope.data.sc_cat_item.name, url: '#'});
		}
		
		$timeout(function() {
			$scope.$emit('sp.update.breadcrumbs', $scope.data.categories);
		});
		spUtil.setSearchPage('sc');
	} else {
		var notFoundBC = [{label: $scope.page.title, url: '?id=' + $scope.data.sc_catalog_page}];
		$timeout(function() {
			$scope.$emit('sp.update.breadcrumbs', notFoundBC);
		});
		spUtil.setSearchPage('sc');
	}
	
	if ($scope.data.sc_cat_item.request_method == "request")
		$scope.submitButtonMsg = $scope.m.requestMsg;
	else if ($scope.data.sc_cat_item.request_method == "submit")
		$scope.submitButtonMsg = $scope.m.submitMsg;
	else
		$scope.submitButtonMsg = $scope.m.orderNowMsg;

	function isValidItemGform(g_form) {
		if (g_form.getSysId() === $scope.data.sc_cat_item.sys_id)
			return true;
		if ($scope.includedItems)
			for (i in $scope.includedItems)
				if ($scope.includedItems[i].sys_id === g_form.getSysId())
					return true;
		return false;
	}

	var includedGformInstances = {};
	$scope.$on('spModel.gForm.initialized', function(e, gFormInstance) {
		if (!isValidItemGform(gFormInstance))
			return;
		includedGformInstances[gFormInstance.getSysId()] = gFormInstance;
    spSCNavStateManager.register(gFormInstance);
    if (gFormInstance.getSysId() == $scope.data.sc_cat_item.sys_id)
      evalIncludes(); // JS - to load included items
		gFormInstance.$private.events.on('submitted', function(event) {
      gFormInstance.$private.processed = true;
      if (gFormInstance.getSysId() == $scope.data.sc_cat_item.sys_id) {
        $scope.$broadcast('$sp.service_catalog.form_submitted', {action_name: 'submit'});
        evalIncludes();
        spSCNavStateManager.unregisterForms(Object.keys(includedGformInstances));
        $scope.guide_step = 1;
        $scope.itemShown = 0;
      }
      else
        processChooseOptions();
		});
		
		$timeout(function() {
			$rootScope.$emit('spModel.gForm.rendered');
		}, 175);
	});
	
	$scope.$on('spModel.gForm.destroyed', function(e, sys_id){
		delete includedGformInstances[sys_id];
	});
	
	function openItemHelper(item, state, defer) {
		for (var i = 0; i &lt; $scope.includedItems.length; i++)
			if ($scope.includedItems[i].sys_id == item) {
				$scope.includedItems[i].included = state == 'true';
				$scope.includedItems[i].isOpen = true;
				$scope._atf.expose('g_form', spAtf.augmentForm(includedGformInstances[item]));
				defer.resolve();
			}
	}
	
	function getFieldsData(item) {
		var fieldData = {"variables":{}};
		for(var field in item._fields) {
			var fieldValue = "";
			if (item._fields[field].value != null &amp;&amp; typeof item._fields[field].value != "string")
				fieldValue = JSON.stringify(item._fields[field].value);
			else
				fieldValue = item._fields[field].value;
			fieldData.variables[item._fields[field].name] = fieldValue;
				
		}
		return fieldData;
	}
	
	function getGuideItems(cartname) {
		var items = [];
		var item;
		for(var i = 0; i &lt; $scope.includedItems.length; i++) {
			if($scope.includedItems[i].included) {
				item = getFieldsData($scope.includedItems[i]);
				item.sysparm_id = item.sysparm_active = $scope.includedItems[i].sys_id;
				item.sysparm_quantity = $scope.includedItems[i].quantity;
				item.sysparm_cart_name = cartname;
				item.sysparm_item_guid = $scope.includedItems[i].sysparm_item_guid;
				items.push(item);
			}
		}
		return items;
	}
	$scope.triggerAddToCart = function() {
		if($scope.submitted)
			return;
		$scope.server.get({
			action: 'log_request',
			itemDetails: {sys_id: $scope.data.sc_cat_item.sys_id, 
										name: $scope.data.sc_cat_item.name,
										sys_class_name: $scope.data.sc_cat_item.sys_class_name}
		});
		$scope.submitted = true;
		$scope.server.get({
			action: "add_to_cart",
			items: getGuideItems(""),
			sys_id: $scope.data.sys_id
		}).then(function(response) {
			$rootScope.$broadcast("$sp.service_catalog.cart.add_item");
			$rootScope.$broadcast("$sp.service_catalog.cart.update");
			$scope.$emit("$sp.sc_order_guide.add_to_cart");
			
			spModal.open({
					message: i18n.getMessage('Items have been added successfully'),
					size: 'sm',
				  backdrop: 'static',
					keyboard: false,
				  noDismiss: true,
					buttons: [
							{label: i18n.getMessage('Catalog Home'), cancel:true},
							{label: i18n.getMessage('View Cart'), primary:true}
						]
			}).then(function() {
					$location.search("id=sc_cart");
				}, function() {
					$location.search("id=sc_home");
				})
			
		});
	}
	// order / create request
	$scope.triggerSubmit = function() {
		if ($scope.submitted)
			return;
		if ($scope.options.isServiceWorkspace &amp;&amp; $window.frameElement) {
			var workspaceParams = {};
			workspaceParams.sysparm_parent_table = $window.frameElement.getAttribute('parent-table');
			workspaceParams.sysparm_parent_sys_id = $window.frameElement.getAttribute('parent-sys-id');
			$scope.data.workspaceParams = workspaceParams;
		}
		$scope.server.get({
			action: 'log_request',
			itemDetails: {sys_id: $scope.data.sc_cat_item.sys_id, 
										name: $scope.data.sc_cat_item.name,
										sys_class_name: $scope.data.sc_cat_item.sys_class_name}
		});
		$scope.submitted = true;
		var hasItems = $scope.includedItems.filter(function(item) {
			return item.sys_class_name != 'sc_cat_item_producer';
		}).length &gt; 0;
		
		if ($scope.data.sys_properties.twostep &amp;&amp; $scope.data.sc_cat_item.request_method != "submit") {
				//Required to pass as payload for usage as embeddedWidget
				var embeddedWidgetOptions = {
					"auto_redirect" : "true",
					"requested_for_id" : "",
					"requested_for_display" : ""
				};
				var payload = {
					cart: '' + $scope.data.sys_id,
					itemDetails: {
						items: getGuideItems('' + $scope.data.sys_id),
						request_method: $scope.data.sc_cat_item.request_method
					},
					workspaceParams: $scope.data.workspaceParams,
					action: "order_guide"
				};
				for (var embeddedOption in embeddedWidgetOptions) {
					payload[embeddedOption] = c.options[embeddedOption] || embeddedWidgetOptions[embeddedOption];
				}
				$scope.server.get(payload).then(function(response) {
					var orderGuideModalCtrl;
					var unregister = $scope.$on('$sp.service_catalog.cart.cancel_order', function(){
						orderGuideModalCtrl.close();
						$scope.submitted = false;
					});
					var closeModalOnSubmit = $scope.$on("$sp.service_catalog.cart.submitted", function () {
						orderGuideModalCtrl.close();
						$scope.submitted = true;
					});
					var orderGuideModal = angular.copy(response.data.orderGuideModal);
					orderGuideModal.options.afterOpen = function(ctrl){
						orderGuideModalCtrl = ctrl;
					};
					orderGuideModal.options.afterClose = function() {
						unregister();
						closeModalOnSubmit();
						$scope.orderGuideModal = null;
						orderGuideModalCtrl = null;
					};
					$scope.orderGuideModal = orderGuideModal;
				});
			return $scope.submitted;
		} else {
			$scope.data.action = 'checkout_guide';
			$scope.data.guideItems = getGuideItems('' + $scope.data.sys_id);
			$scope.server.update().then(function(response) {
				$scope.data.action = undefined;
				$scope.data.guideItems = undefined;
				$scope.$emit("$sp.sc_order_guide.submitted", $scope.data.result);
				$scope.submitted = true;
				if ($scope.options.auto_redirect == 'false') {
					spUtil.addInfoMessage($scope.m.requestSubmitted);
					return;
				}
				else {
					if ($scope.data.result.request_id) 
						$location.search('id=sc_request&amp;is_new_order=true&amp;table=sc_request&amp;sys_id=' + $scope.data.result.request_id);
					else 
						$location.search('?');
					
				}
			});
		return $scope.submitted;
		}
	}
	function evalGuidePrice() {
		$scope.price = 0;
		var frequencyMap = {};
		for (var i = 0; i &lt; $scope.includedItems.length; i++) {
			if ($scope.includedItems[i].included &amp;&amp; $scope.includedItems[i].process_price) { 
				var qty = parseInt($scope.includedItems[i].quantity);
				var pricing = $scope.includedItems[i]._pricing;
				var effectivePrice = 0;
				var effectiveRecurringPrice = 0;
				if (typeof $scope.includedItems[i].price != "undefined") {
					effectivePrice = $scope.includedItems[i].price;
				}
				if (typeof $scope.includedItems[i].recurring_price != "undefined") {
					effectiveRecurringPrice = $scope.includedItems[i].recurring_price;
				}

				if (effectiveRecurringPrice &gt;= 0 &amp;&amp; pricing.rfd) {
					if(frequencyMap[pricing.rfd])
						frequencyMap[pricing.rfd] += effectiveRecurringPrice * qty;
					else
						frequencyMap[pricing.rfd] = effectiveRecurringPrice * qty;
				}
				if (effectivePrice &gt;= 0)
					$scope.price += effectivePrice * qty;
			}
		}
		frequencyMap.price = $scope.price;
		$scope.server.get({
			action: "format_prices",
			prices: frequencyMap
		}).then(function(response) {
			$scope.frequencySequence = response.data.frequencySequence;
			$scope.price_display = response.data.frequencyMap.price;
			$scope.frequencyMap = response.data.frequencyMap;
		});
	}
	
	function evalIncludes() {
		// don't allow submit while waiting on included items eval
		$scope.evaluatingIncludes = true;
		$scope.includedItems = [];
		var guideData = getFieldsData($scope.data.sc_cat_item);
		guideData.sysparm_id = $scope.data.sys_id;
		guideData.without_cart = true;
		guideData._fields = $scope.data.sc_cat_item._fields;
		guideData.cascade = $scope.data.sc_cat_item.cascade;
		$scope.server.get({
			action: "init_guide",
			orderGuideData: guideData
		}).then(function(response) {
			$scope.includedItems = response.data.items;
			$scope.showIncludeToggle = response.data.showIncludeToggle;
			initAttachmentHandlers();
			$scope.includedItems.forEach(function(item) {
				item.description = $sce.trustAsHtml(item.description);
            });
			$scope.totalIncluded = $scope.includedItems.length;
			$scope.evaluatingIncludes = false;
		});
	}
	
	$scope.$on('dialog.upload_too_large.show', function(e){
		$log.error($scope.m.largeAttachmentMsg);
		spUtil.addErrorMessage($scope.m.largeAttachmentMsg);
	});
	
	$scope.initAttachmentCallbacks = function (itemIndex) {
		$scope.includedItems[itemIndex].attachmentHandler.setAttachments = function (attachments, action) {
			$scope.includedItems[itemIndex].attachments = attachments;
			if (action === "added") {
				$scope.includedItems[itemIndex].attachment_submitted = true;
			}
			if (action === "renamed")
				spAriaUtil.sendLiveMessage($scope.m.renameSuccessMsg);
			if (action === "deleted") {
				spAriaUtil.sendLiveMessage($scope.m.deleteSuccessMsg);
				if ($scope.includedItems[itemIndex].attachments.length == 0)
				$scope.includedItems[itemIndex].attachment_submitted = false;
			}
			spUtil.get($scope,{action: "from_attachment"});
		};
		
		$scope.includedItems[itemIndex].confirmDeleteAttachment = function(attachment) {
			spModal.confirm($scope.data.msgs.delete_attachment).then(function() {
				$scope.includedItems[itemIndex].attachmentHandler.deleteAttachment(attachment);
				$scope.setFocusToAttachmentButton();
			});
		}
	}
	
	function initAttachmentHandlers() {
			var setAttachments;
			var appendError = function (error) {
					spUtil.addErrorMessage(error.msg + error.fileName);
			};
			for (var i = 0; i &lt; $scope.includedItems.length; i++) {
				$scope.includedItems[i].attachmentHandler = new nowAttachmentHandler(setAttachments, appendError);
				$scope.includedItems[i].attachmentHandler.setParams($scope.includedItems[i].targetTable, $scope.includedItems[i].sysparm_item_guid, 1024 * 1024 * $scope.data.maxAttachmentSize);
			}
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;$tl-light: #ccc !default;
$tl-dark: $text-color !default;
$tl-active: mix($brand-primary, black, 50%) !default;
$tl-hover: $brand-primary !default;
$tl-indicator-size: 2rem !default;
$tl-first-last-width: 16rem !default;
$tl-line-weight: 2px !default;

.sc-order-guide-alt {
  margin: 30px 10px;
}

.og-timeline {
  position: relative;
  display: flex;
  margin: 30px 0;
  color: $tl-light;
  text-align: center;
}
.og-timeline-inner {
  flex: 1;
  display: flex;
}
.og-timeline-title {
  line-height: 1.5;
  padding: 5px;
  overflow: auto;
  text-overflow: ellipsis;
  white-space: nowrap;
  text-align: center;
}
.og-timeline-indicator {
  height: $tl-indicator-size;
  width: $tl-indicator-size;
  border-radius: $tl-indicator-size/2;
  border: $tl-line-weight solid $tl-light;
  background-color: #fff;
  margin: 0 auto;
  &amp;amp;::before,
  &amp;amp;::after {
    display: block;
    border-bottom: $tl-line-weight solid $tl-light;
    position: absolute;
    bottom: calc( $tl-indicator-size / 2 - $tl-line-weight / 2 );
    width: 100%;
    z-index: -1;
  }
}
.og-timeline-item:hover {
  .og-timeline-title {
    display: block;
    overflow: unset;
    color: $tl-hover;
    background-color: #fff;
  }
  .og-timeline-indicator {
    border-color: $tl-hover;
    background-color: #fff;
  }
}

.og-timeline-item {
  &amp;amp;.past {
    color: $text-color;
    &amp;gt; .og-timeline-indicator {
      border-color: $tl-active;
      background-color: $tl-active;
    }
  }
  &amp;amp;.active {
    color: $tl-active;
    &amp;gt; .og-timeline-indicator {
      border-color: $tl-active;
    }
  }
}

.og-timeline &amp;gt; .og-timeline-item {
  &amp;gt; .og-timeline-title {
    width: $tl-first-last-width;
  }
  &amp;amp;:first-child &amp;gt; .og-timeline-indicator::before {
    content: "";
    width: calc( 100% - $tl-first-last-width );
    left: $tl-first-last-width/2;
  }
  &amp;amp;.past:first-child &amp;gt; .og-timeline-indicator::after {
    content: "";
    border-bottom: $tl-line-weight solid $tl-active;
    width: $tl-first-last-width/2;
    left: $tl-first-last-width/2;
  }
}

.og-timeline-inner &amp;gt; .og-timeline-item {
  position: relative;
  &amp;amp;.past:first-child &amp;gt; .og-timeline-indicator::before,
  &amp;amp;.active:first-child &amp;gt; .og-timeline-indicator::before {
    content: "";
    border-color: $tl-active;
    width: 50%;
    right: 50%;
  }
  &amp;amp;.past &amp;gt; .og-timeline-indicator::after {
    content: "";
    border-color: $tl-active;
    width: 100%;
    left: 50%;
  }
  &amp;amp;.past:last-child &amp;gt; .og-timeline-indicator::after {
    content: none;
  }
}

.og-timeline.step-2 &amp;gt; .og-timeline-item:first-child &amp;gt; .og-timeline-indicator::before {
  border-bottom: $tl-line-weight solid $tl-active;
}

.attachment-label {
  padding: 15px;
  cursor: pointer;
}

@media (max-width: $screen-md-max) {
  .og-timeline-title {
    position: absolute;
    bottom: 1.5em;
    text-align: center;
    width: 100%;
    line-height: 1;
    border-radius: .5em;
    display: none;
  }
  .og-timeline &amp;gt; .og-timeline-item:last-child &amp;gt; .og-timeline-title {
    width: auto;
    right: 0;
  }
  .og-timeline &amp;gt; .og-timeline-item:first-child {
    &amp;gt; .og-timeline-title {
      width: auto;
      left: 0;
    }
    &amp;gt; .og-timeline-indicator::before {
      width: calc( 100% - $tl-indicator-size );
      left: $tl-indicator-size/2;
    }
    &amp;amp;.past &amp;gt; .og-timeline-indicator::after {
      content: "";
      border-bottom: $tl-line-weight solid $tl-active;
      width: $tl-indicator-size/2;
      left: $tl-indicator-size/2;
    }
  }
  .og-timeline-inner &amp;gt; .og-timeline-item {
    &amp;amp;.past:first-child &amp;gt; .og-timeline-indicator::before,
    &amp;amp;.active:first-child &amp;gt; .og-timeline-indicator::before {
      width: 100%;
    }
  }
}

@media (min-width: $screen-lg) {
  .og-timeline-inner {
    margin: 0 !important;
  }
}

.read-more, .read-less {
  cursor: pointer;
}
.more-text {
  display: none;
}

// .empty-state-content {
//   margin-top: 30px;

//   h3 {
//     margin-bottom: 5px;
//     text-align: center;
//   }
// }

// .attachment-label {
//   float: right;
//   font-weight: normal;
//   cursor: pointer;
// }

// .guide-image {
//   max-height: 240px;
//   padding: 5px;
//   display: inline;
// }

// .panel-button {
//   float: none;
// }

// .file-list-wrap {
// 	margin-bottom: 10px;
// }

// .guide-item-image {
//   max-height: 150px;
//   padding: 10px;
//   display: inline-block !important;
// }

// // .item-icon {}

// .disabled-mask {
//   background-color: #F8F9F9;
//   position: absolute;
//   z-index: 8;
//   opacity: 0.6;
//   height: 100%;
//   width: 100%;
//   top: 0;
//   left: 0;
//   border-radius: 5px;
//   cursor: not-allowed;
// }

// .guide-description, .guide-nav, .tab-item, .og-timeline {
//   overflow: auto;
// }


// .guide-nav {
//   padding: 0px 40px 20px 40px;
// }

// .iconlink {
//   margin: 5px 0px 5px 0px;
// }

// .circle_icon {
//     border: 3px solid;
//     width: 20px;
//     height: 20px;
//     border-radius: 50%;
//     padding: 20px;
//     display: inline-block;
//     .step-icon {
//       font-size: 20px;
//     	position: relative;
//     	top: -9px;
//     	left: -10px;
//     }
// }

// .step-text {
//   	position: relative;
//     top: -10px;
// }

// .step_active {
//   color: $primary;
// }

// .step_inactive {
//   color: $text-muted;
//   opacity: 0.5;
// }

// .accordion-header {
//   .panel-heading {
//     padding: 0;
//     .row {
//       padding: 15px;
//       margin: 0;
//     }
//     .align-text {
//       top: 3px;
//     }
//     &amp;amp;:hover {
//     	background-color: lighten($primary, 45%);
//   	}
//   }
//   &amp;amp;.panel-open {
//     .panel-heading {
//       border-bottom: 1px solid #dee5e7;
//       &amp;amp;:hover {
//     		background-color: transparent;
//   		}
//     }
//   }
//   .panel-title {
//     	font-size: inherit;
//   }
// }

// .list-group {
// 	padding-left: 28px;
//   padding-right: 28px;
//   padding-top: 10px;
//   padding-bottom: 0px;
// }

// .accordion-icon {
//   margin-left: 30px;
// }


// .mandatory-header {
//   border-left: 3px #d9534f solid !important;
// }

// .mandatory-icon {
//   color: #d9534f;
//   margin-left: -9px
// }

// .timeline-container {
//   position: sticky;
//   position: -webkit-sticky;
//   position: -ms-sticky;
//   height:auto;
//   top: -($font-size-h2 + $font-size-base + 48px);
//   z-index: 10;
//   background-color: inherit;
//   border-radius: 4px 4px 0 0;
// }

// .og-timeline .iconlink label {
//   font-weight: 600;
//   font-size: 0.8em;
//   line-height: 1.8em;
// }

// .include-loader {
//   text-align: center;
  
// }

// .og-switch {
//   .input-switch {
//     font-size: inherit;
//     label.switch {
//       border-radius: 20px;
//       &amp;amp;::before {
//         border-radius: 20px;
//       }
//     }
//     input[type=checkbox]:checked ~ .switch {
//     	background-color: $primary; 
// 		}
//   }
// }

// .summary {
//   tr {
//     height: 69px;
//   }
//   margin-bottom: 0;
//   .summary-excluded {
//     color: #ccc;
//   }
//   .not-included-pill {
//     color: #FFF;
//     background-color: #f0ad4e;
//     border-radius: 20px;
//     font-size: 11px;
//     font-weight: bolder;
//     white-space: nowrap;
//   }
// }

// .m-r-6 {
//   margin-right: 6px !important;
// }

// .wrap-word {
//   word-break: break-word;
//   hyphens: auto;
// }

// //animation

// .fa-pulse {
//   -webkit-animation: fa-spin 1s infinite steps(8);
//   animation: fa-spin 1s infinite steps(8);
// }

// .options {
//   color: $primary;
// }

// @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
// /* IE10+ CSS styles go here */
//    .timeline-container {
//    position: static;
//    top: 0px;
//    }
// }
// @media only screen and (max-width:992px) {
//   .pull-left-xs {
//     float: left !important;
//   }
  
//   .left-align-xs {
//     text-align: left !important;
//   }
  
//   .padding-left-xs {
//     padding-left:15px !important;
//   }
  
//   .iconlink {
//     padding: 0 15px;
//   }
  
//   .wrapper-cart-xs {
//     padding: 10px !important;
//   }
  
//   .not-included {
//     padding: 3px !important;
//   }
  
//   .pull-right-xs {
//     float: right !important;
//   }
  
//   .remove-margin-bottom-xs {
//     margin-bottom: 0px !important;
//   }
  
//   .add-margin-bottom-xs {
//     margin-bottom: 15px !important;
//   }
  
//   .list-group {
//     padding-left: 13px !important;
//     padding-right: 13px !important;
//   }

//   .border-top-xs {
//     border-top: none;
//   }
  
//   .border-bottom-xs {
//     border-bottom: none;
//   }
  
//   .button-image-xs {
//     padding-left: 7%;
//     line-height: 160%;
//   }
  
//   .guide-image {
//     display: block;
//     margin: auto;
//     max-height: 220px
//   }
  
//   .og-switch {
//     padding-top:10px;
//     .input-switch {
//       margin-left: 5px !important;
//     }
//     .input-switch input[type=checkbox]  ~ .switch {
//        height: 20px;
//        width: 35px
//     }
//     .input-switch input[type=checkbox]:checked  ~ .switch:before {
//       left: 15.5px;
//     }
//    }
//   .summary {
//      tr {
//          height: 33px;
//       }
//     .summary-excluded {
//     	color: inherit;
//   	}
//   }
//   .timeline-container {
//     top: -($font-size-h2 + $font-size-base + 28px);
//   }
//   .guide-nav-setp1 {
//     padding: 0 13px 20px 13px;
//   }
// 	.timeline-container {
//      position: inherit;
//   }
//   .included-xs {
//     font-size:13px; 
//     vertical-align:3px;
//   }
//   // .panel-body {
//   //   padding: 0;
//   // }
//   .guide-item-image-xs {
//     max-height: 120px;
//   	padding: 10px;
//     float: left;
//   }
//   .guide-description {
//     display: inline;
//   }
//   .read-more, .read-less {
//     font-size: 15px;
//     cursor: pointer;
//   }
//   .more-text {
//     display: none;
//   }
// }&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list&gt;color,title&lt;/field_list&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;sc-order-guide-v2-alt&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link&gt;&lt;![CDATA[function ogAltLink(scope, elem) {
		scope.setFocusToAttachmentButton = function () {
			elem.find('.sp-attachment-add')[0].focus();
		}
	}
	]]&gt;&lt;/link&gt;&lt;name&gt;SC Order Guide Alt&lt;/name&gt;&lt;option_schema&gt;[{"hint":"This property will 'show less' description of order guide with an option of 'read more' to read full description.","name":"show_less_orderguide","default_value":"true","section":"Presentation","label":"Enable Show More/Less for Order Guide description on Mobile","type":"boolean"},{"hint":"Show the widget in compact mode","name":"compact_mode","section":"Presentation","default_value":"false","label":"Compact Mode","type":"boolean"},{"hint":"Hide Delivery Time in each Item","name":"hide_delivery_time","section":"Presentation","default_value":"false","label":"Hide Delivery Time","type":"boolean"},{"hint":"Show the add to cart button","name":"show_add_cart_button","section":"Behavior","default_value":"true","label":"Show Add to Cart","type":"boolean"}]&lt;/option_schema&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function () {
	var guideJS;
	if (input &amp;&amp; input.action == "from_attachment")
		return;

	data.sys_id = $sp.getParameter("sys_id");
	['auto_redirect', 'requested_for_id', 'requested_for_display'].forEach(function (embeddedWidgetOption) {
		if (input &amp;&amp; typeof input[embeddedWidgetOption] != 'undefined')
			options[embeddedWidgetOption] = input[embeddedWidgetOption];
	});
	
	if(input &amp;&amp; input.action == 'order_guide') {
		data.orderGuideModal = $sp.getWidget('widget-modal', {
      embeddedWidgetId: 'sc-checkout', 
      embeddedWidgetOptions: {
        cart: {name: input.cart}, 
        action: input.action, 
        item: input.itemDetails, 
        requested_for: {id:options.requested_for_id, displayValue:options.requested_for_display}, 
        auto_redirect: options.auto_redirect,
        parentParams: input.workspaceParams
      }, 
      backdrop: 'static', 
      keyboard: false, 
      size: 'md'
    });
		return;
	}
	else if (input &amp;&amp; input.action === 'log_request') {
		 $sp.logStat('Cat Item Request', input.itemDetails.sys_class_name, input.itemDetails.sys_id, input.itemDetails.name);
		 return;
	}
	else if(input &amp;&amp; input.action == "init_guide") {
		var orderGuideData = input.orderGuideData;
		guideJS = new sn_sc.OrderGuide('' + orderGuideData.sysparm_id);
		var temp = guideJS.init(orderGuideData);
		data.showIncludeToggle = guideJS.isIncludeItems();
		data.items = [];
		var item;
		for(var i = 0; i &lt; temp.items.length; i++) {
			var catItem = new sn_sc.CatItem('' + temp.items[i].sys_id);
			if(!catItem.canView() || !catItem.isVisibleServicePortal())
				continue;
			var itemData = {
				'sys_id': temp.items[i].sys_id, 
				'table': 'sc_cat_item', 
				'quantity': temp.items[i].quantity, 
				'is_guide': true, 
				'is_ordering': true,
				'variables' : {}
			};
			if (orderGuideData.cascade) {
				for (var gf in orderGuideData._fields) {
					var field = orderGuideData._fields[gf];
					itemData.variables[field.name] = field.value;	
				}
			}
			item = $sp.getCatalogItem(itemData);
			item.quantity = temp.items[i].quantity;
			item.show_quantity = temp.items[i].show_quantity;
			item.isOrderGuideItem = true;
			item.included = true;
			item.sysparm_item_guid = gs.generateGUID();
			item._attachmentGUID = item.sysparm_item_guid;
			item.order = parseInt(temp.items[i].order);
			
			var table_name = 'sc_cart_item';
			var className = item.sys_class_name;
			if (!new global.CatalogItemTypeProcessor().canCreateNormalCartItem(className)) {
				if (className == 'sc_cat_item_producer') {
					var gr = new GlideRecord('sc_cat_item_producer');
					if (gr.get(item.sys_id))
						table_name = gr.getValue('table_name');
				}
			}
			item.targetTable = table_name;
			if (orderGuideData.cascade) {
				for (var field in item._fields) {
					var f = item._fields[field];
					for (var gf in orderGuideData._fields) {
						if (orderGuideData._fields[gf].name === f.name) {
							f.value = orderGuideData._fields[gf].value;
							f.displayValue = orderGuideData._fields[gf].displayValue;
							f.display_value_list = orderGuideData._fields[gf].display_value_list;
							break;
						}
					}
				}
			}
			if (temp.variable_assignments[item.sys_id]) {
				var cur = temp.variable_assignments[item.sys_id];
				for (var fieldId in cur) {
					var q = GlideappQuestion.getQuestion(fieldId);
					item._fields[q.getName()].value = cur[fieldId];
					
					if (q.getType() == 21 || q.getType() == 8) {
						q.setValue(cur[fieldId]);
						if (q.getType() == 21) {
							var vals = '' + q.getDisplayValues();
							vals = vals.slice(1, -1);
							item._fields[q.getName()].display_value_list = vals.split(', ');
						}
					}
					item._fields[q.getName()].displayValue = q.getDisplayValue();
				}
			}
			data.items.push(item);
		}
		return;
	}
	else if(input &amp;&amp; input.action == "checkout_guide") {
		guideJS = new sn_sc.OrderGuide('' + data.sys_id);
		var cartJS = new sn_sc.CartJS('' + data.sys_id);
		for(var i = 0; i &lt; input.guideItems.length; i++)
			guideJS.navigateFromMap(input.guideItems[i]);
		cartJS.activateGuide();
		cartJS.setParentParams(input.workspaceParams);
		data.result = cartJS.checkoutGuide();
		return;
	}
	else if(input &amp;&amp; input.action == "add_to_cart") {
		var cart = new sn_sc.CartJS();
		guideJS = new sn_sc.OrderGuide('' + input.sys_id);
		for(var i = 0; i &lt; input.items.length; i++) {
			input.items[i].sysparm_cart_name = "";
			guideJS.navigateFromMap(input.items[i]);
		}
		if (guideJS.isUseCustomCart())
			new sn_sc.CartJS(input.sys_id).empty("");
		cart.activateGuide();
		return;
	}
	else if(input &amp;&amp; input.action == "format_prices") {
		data.frequencySequence = [];
		var gr = new GlideRecord('sys_choice');
		gr.addQuery('name', 'sys_frequency');
		gr.orderBy('sequence');
		gr.query();
		while(gr.next())
			data.frequencySequence.push(gr.label.getDisplayValue());
		var spCurrencyFormatter = new SPCurrencyFormatter();
		data.frequencyMap = {};
		for(var key in input.prices)
			data.frequencyMap[key] = spCurrencyFormatter.format(input.prices[key]);
		return;
	}
	
	// portal can specify a catalog and category home page
	data.sc_catalog_page = $sp.getDisplayValue("sc_catalog_page") || "sc_home";
	data.sc_category_page = $sp.getDisplayValue("sc_category_page") || "sc_category";
	var catalogID = $sp.getParameter("catalog_id") ? $sp.getParameter("catalog_id") + "" : "-1";
	var m = data.msgs = {};
	m.scHomeMsg = gs.getMessage("Service Catalog");
	m.step1 = gs.getMessage("Start");
	m.step2 = gs.getMessage("Choose Options");
	m.step3 = gs.getMessage("Review &amp; Submit");
	m.prevMsg = gs.getMessage("Previous");
	m.nextMsg = gs.getMessage("Continue");
	m.submitMsg = gs.getMessage("Submit");
	m.orderNowMsg = gs.getMessage("Order Now");
	m.requestMsg = gs.getMessage("Request");
	m.submittedMsg = gs.getMessage("Submitted");
	m.createdMsg = gs.getMessage("Created");
	m.clickMsg = gs.getMessage("click here to view");
	m.dialogTitle = gs.getMessage("Delete Attachment");
	m.dialogMessage = gs.getMessage("Are you sure?");
	m.dialogOK = gs.getMessage("OK");
	m.dialogCancel = gs.getMessage("Cancel");
	m.viewAttachedImage = gs.getMessage("View attached image");
	m.downloadAttachment = gs.getMessage("Download attachment");
	data.maxAttachmentSize = parseInt(gs.getProperty("com.glide.attachment.max_size", 1024));
	if (isNaN(data.maxAttachmentSize))
		data.maxAttachmentSize = 24;
	m.largeAttachmentMsg = gs.getMessage("Attached files must be smaller than {0} - please try again", "" + data.maxAttachmentSize + "MB");
	m.renameSuccessMsg = gs.getMessage("Attachment renamed successfully");
	m.deleteSuccessMsg = gs.getMessage("Attachment deleted successfully");
	m.invalidRecordMsg = gs.getMessage('You are either not authorized or record is not valid.');
  m.delete_attachment = gs.getMessage("Delete Attachment?");
  m.cartMsg = gs.getMessage('Save');
	
	data.hideDeliveryTime = (options.hide_delivery_time == 'true');
	if (options.sys_id)
		data.sys_id = options.sys_id;
	if (!data.sys_id)
		return;
	var validatedItem = new sn_sc.CatItem('' + data.sys_id);
  if (!validatedItem.canView())
    return;
	data.sys_properties = {
		twostep: gs.getProperty("glide.sc.sp.twostep", "true") == 'true'
	};
	data.showPrices = $sp.showCatalogPrices();
  data.sc_cat_item = $sp.getGuide(data.sys_id, true, false);
	data.recordFound = true;
	if (data.sc_cat_item.category) {
		var categoryJS;
		var categoryID = validatedItem.getFirstAccessibleCategoryForSearch((catalogID &amp;&amp; catalogID != "-1" ? catalogID : $sp.getCatalogs().value + ""));
		if (GlideStringUtil.isEligibleSysID($sp.getParameter("sysparm_category"))) {
			categoryJS = new sn_sc.CatCategory($sp.getParameter("sysparm_category") + "");
			categoryID = $sp.getParameter("sysparm_category") + "";
		}
		else if (categoryID)
			categoryJS = new sn_sc.CatCategory(categoryID);
		
		if (categoryJS &amp;&amp; GlideStringUtil.isEligibleSysID(categoryJS.getID())) {
			data.category = {
				name: categoryJS.getTitle(),
				url: '?id=' + data.sc_category_page + '&amp;sys_id=' + categoryID
			}
			if (categoryJS.getCatalog()) {
				catalogID = categoryJS.getCatalog();
				data.catalog_id = catalogID;
				var catalogObj = new sn_sc.Catalog(catalogID);
				data.sc_catalog = catalogObj.getTitle();
			}
			
			data.categories = [];
			data.categories.push({
				label: categoryJS.getTitle(),
				url: '?id=' + data.sc_category_page + '&amp;sys_id=' + categoryID
			});
			while(categoryJS &amp;&amp; categoryJS.getParent()) {
				var parentId =  categoryJS.getParent();
				categoryJS = new sn_sc.CatCategory(parentId);
				var category = {
					label: categoryJS.getTitle(),
					url: '?id=' + data.sc_category_page + '&amp;sys_id=' + parentId
				};
				data.categories.unshift(category);
			}
			if ((($sp.getCatalogs().value + "").split(",")).length &gt; 1) {
				data.all_catalog_msg = gs.getMessage("All Catalogs");
			}
		}
	}
	$sp.logStat('Cat Item View', data.sc_cat_item.sys_class_name, data.sc_cat_item.sys_id, data.sc_cat_item.name);
})()]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jacob&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-09-15 06:08:00&lt;/sys_created_on&gt;&lt;sys_id&gt;0a5aa097db77f34090c6d6a75e961993&lt;/sys_id&gt;&lt;sys_mod_count&gt;291&lt;/sys_mod_count&gt;&lt;sys_name&gt;SC Order Guide Alt&lt;/sys_name&gt;&lt;sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d"&gt;351ae457db77f34090c6d6a75e96197d&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="SC Order Guide Alt"&gt;351ae457db77f34090c6d6a75e96197d&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_0a5aa097db77f34090c6d6a75e961993&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jacob&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-09-30 09:07:20&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div class="sc-order-guide-alt" sn-atf-blacklist="IS_SERVICE_CATALOG"&gt;
  &lt;sp-widget widget="orderGuideModal" ng-if="orderGuideModal"&gt;&lt;/sp-widget&gt;
	&lt;!-- &lt;div ng-if="::data.sc_cat_item" class="row"&gt;
		&lt;div class="col-sm-12"&gt; --&gt;
			&lt;div  ng-if="::data.sc_cat_item"&gt; 
          &lt;!-- class="panel panel-default" --&gt;
				&lt;div&gt;
					&lt;div class="break-word"&gt;
						&lt;h1 class="h2 m-n" ng-if="::data.sc_cat_item.name"&gt;{{::data.sc_cat_item.name}}&lt;/h1&gt;
            &lt;div class="text-muted hidden-xs hidden-sm" ng-if="::data.sc_cat_item.short_description"&gt;{{::data.sc_cat_item.short_description}}&lt;/div&gt;
          &lt;/div&gt;
          
					&lt;div class="og-timeline step-{{guide_step}}"&gt;

            &lt;div class="og-timeline-item" ng-class="guide_step == 0 ? 'active' : 'past'" ng-click="goToStepItem(0)"&gt;
              &lt;div class="og-timeline-title"&gt;{{m.step1}}&lt;/div&gt;
							&lt;div class="og-timeline-indicator"&gt;&lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="og-timeline-inner" style="margin: 0 {{40 / includedItems.length}}%;"&gt;
              &lt;div ng-repeat="step in includedItems" class="og-timeline-item" style="width: calc(100% / {{includedItems.length}});" ng-click="goToStepItem(1,$index)"
                  ng-class="{'active': guide_step == 1 &amp;&amp; item_step == $index, 'future': guide_step &lt; 2 &amp;&amp; item_step &lt; $index, 'past': (guide_step == 1 &amp;&amp; item_step &gt; $index) || guide_step == 2}"&gt;
                &lt;div class="og-timeline-title"&gt;{{step.name}}&lt;/div&gt;
                &lt;div class="og-timeline-indicator"&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div class="og-timeline-item" ng-class="guide_step == 2 ? 'active' : 'future'" ng-click="goToStepItem(2)" ng-disabled="guide_step === 0"&gt;
              &lt;div class="og-timeline-title"&gt;{{m.step3}}&lt;/div&gt;
              &lt;div class="og-timeline-indicator"&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            
          &lt;/div&gt;
          
        &lt;/div&gt;
				&lt;div ng-if="guide_step == 0"&gt;
            &lt;!-- class="panel-body" --&gt;
          &lt;div class="row m-b-lg"&gt;
            &lt;div ng-if="::data.sc_cat_item.picture" class="col-xs-12 col-sm-12 col-md-3 col-lg-3"&gt;
              &lt;img class="img-responsive catalog-item-image guide-image" ng-src="{{::data.sc_cat_item.picture}}?t=medium" /&gt;
            &lt;/div&gt;
            &lt;div ng-if="data.sc_cat_item.description" class="col-xs-12 col-sm-12 col-md-9 col-lg-9 break-word"&gt;
              &lt;div class="col-md-9 col-lg-9 visible-md visible-lg" ng-class="{false : 'visible-xs visible-sm', true : 'hidden-xs hidden-sm'}[options.show_less_orderguide === 'true']"&gt;	
              	&lt;div class="m-t guide-description" ng-bind-html="::data.sc_cat_item.description"&gt;&lt;/div&gt;
              &lt;/div&gt;
              &lt;div class="visible-xs visible-sm col-xs-12 col-sm-12" ng-if="::(options.show_less_orderguide === 'true')"&gt;
            		&lt;sc-toggle-data sn-data="::data.sc_cat_item.description"&gt;&lt;/sc-toggle-data&gt;
            	&lt;/div&gt;
            &lt;/div&gt;
	        &lt;/div&gt;
					&lt;sp-model form-model="data.sc_cat_item" mandatory="data.sc_cat_item._mandatory" template-url="row-based-form-template"&gt;&lt;/sp-model&gt;
				&lt;/div&gt;
				&lt;div ng-if="guide_step == 1" &gt;
            &lt;!-- class="panel-body" --&gt;
          &lt;div ng-if="evaluatingIncludes" class="include-loader"&gt;
            &lt;i class="fa fa-spinner fa-pulse fa-3x fa-fw"&gt;&lt;/i&gt;
						&lt;span class="sr-only"&gt;${Loading...}&lt;/span&gt;
          &lt;/div&gt;
					&lt;div ng-repeat="item in includedItems track by item.sys_id | orderBy: 'order'" ng-show="item_step == $index" ng-init="initAttachmentCallbacks($index);"&gt;
            &lt;h3&gt;
              &lt;span id="item_name_{{::item.sys_id}}"&gt;
                &lt;!-- &lt;img ng-if="::item.icon" ng-src="{{::item.icon}}" class="item-icon m-r-xs"/&gt; --&gt;
                &lt;span aria-role="heading" aria-level="3" class="break-word"&gt;{{::item.name}}&lt;/span&gt;
              &lt;/span&gt;
              &lt;small&gt;{{::item.short_description}}&lt;/small&gt;
              &lt;span ng-if="::showIncludeToggle"&gt;	
                &lt;div class="input-switch inline v-middle m-l" ng-click="$event.stopPropagation()" uib-tooltip="{{item.included ? '${Included}' : '${Not Included}'}}" tooltip-placement="top" tooltip-append-to-body="true" role="none"&gt;
                  &lt;input type="checkbox"
                      ng-model="item.included"
                      tabindex="0"
                      aria-label="${Included}"
                      id="enable_switch_{{::item.sys_id}}"  /&gt;
                  &lt;label class="switch" for="enable_switch_{{::item.sys_id}}" ng-click="toggleItemState(item)"&gt;&lt;/label&gt;
                &lt;/div&gt;
              &lt;/span&gt;
            &lt;/h3&gt;
              
            &lt;div id="item_details_{{::item.sys_id}}" role="region" aria-labelledby="{{::item.sys_id}}" sp-pause-child-watchers-if-hidden&gt;
              &lt;!-- &lt;div class="wrapper"&gt; --&gt;
                &lt;!-- &lt;div class="panel-body"&gt; --&gt;
                  &lt;div class="row m-b-lg"&gt;
                    &lt;div class="col-lg-3 col-md-3 hidden-xs hidden-sm" ng-if="::item.picture"&gt;
                      &lt;img ng-if="::item.picture" class="img-responsive catalog-item-image guide-item-image" ng-src="{{::item.picture}}" /&gt;  
                    &lt;/div&gt;
                    &lt;div class="col-lg-9 col-md-9 col-xs-12 col-sm-12"&gt;
                      &lt;div class="font-normal pull-right m-r-sm hidden-xs hidden-sm"&gt;
                        &lt;span class="" ng-if="data.showPrices &amp;&amp; item.price"&gt;{{item.price_display}} {{item.recurring_price ? '+' : ''}}&lt;/span&gt; &lt;span class="" ng-if="data.showPrices &amp;&amp; item.recurring_price"&gt; {{item.recurring_price_display}} {{item.recurring_price_frequency}}&lt;/span&gt;
                        &lt;div class="" ng-if="!data.hideDeliveryTime &amp;&amp; item.sys_class_name != 'sc_cat_item_producer' &amp;&amp; item.sys_class_name != 'sc_cat_item_guide' &amp;&amp; (!item.no_delivery_time &amp;&amp; item.estimated_delivery_time)"&gt;{{::item.estimated_delivery_time}} ${Delivery}&lt;/div&gt;
                      &lt;/div&gt;
                      &lt;img ng-if="::item.picture" class="img-responsive catalog-item-image guide-item-image-xs hidden-lg hidden-md" ng-src="{{::item.picture}}" /&gt;  
                      &lt;div ng-if="::item.description" class="m-t guide-description clearfix visible-md visible-lg break-word" ng-bind-html="::item.description" ng-class="::{false : 'visible-xs visible-sm', true : 'hidden-xs hidden-sm'}[options.show_less_orderguide === 'true']"&gt;&lt;/div&gt;
                        &lt;div class="visible-xs visible-sm break-word" ng-if="::(options.show_less_orderguide === 'true')"&gt;
                        &lt;sc-toggle-data sn-data="::item.description"&gt;&lt;/sc-toggle-data&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                  &lt;fieldset ng-class="{'disabled-mask': !item.included}"&gt;&lt;/fieldset&gt;
                  &lt;sp-cat-item item="item" /&gt;
                  &lt;sp-model form-model="item" mandatory="item._mandatory" template-url="row-based-form-template"&gt;&lt;/sp-model&gt;
                  &lt;div class="clearfix"&gt;
                    &lt;div ng-if="item.attachments.length" class="file-list-wrap"&gt;
                      &lt;ul class="list-group" style="margin-bottom: 0; padding:0"&gt;
                        &lt;li class="list-group-item" ng-repeat="attachment in item.attachments"&gt;
                          &lt;div class="sp-attachment-block-single-line file-attachment row" id="{{::attachment.sys_id}}"&gt;
                            &lt;a aria-label="{{::(attachment.thumbSrc ? m.viewAttachedImage : m.downloadAttachment)}}" tabindex="0" class="col-md-1 col-sm-1 col-xs-2 view-attachment m-b-none text-center" style="border: none;"
                                ng-click="item.attachmentHandler.viewAttachment($event, attachment)" href="javascript:void(0)" title="View" &gt;
                              &lt;img alt="" ng-if="attachment.thumbSrc" class="attachment-thumbnail img-responsive" ng-src="{{attachment.thumbSrc}}"/&gt;
                              &lt;span ng-if="::!attachment.thumbSrc"&gt;
                                &lt;span class="glyphicon glyphicon-file text-2x"/&gt;
                              &lt;/span&gt;
                            &lt;/a&gt;
                            &lt;div class="col-md-9 col-sm-8 col-xs-7 file-name v-middle"&gt;
                              &lt;a tabindex="0" class="get-attachment" ng-click="item.attachmentHandler.downloadAttachment(attachment)" ng-attr-title="${Download} {{::attachment.file_name}}" href="javascript:void(0)"&gt;
                                {{::attachment.file_name}} ({{::attachment.size}})
                              &lt;/a&gt;
                              &lt;input tabindex="-1" ng-keydown="item.attachmentHandler.onKeyDown($event, attachment)" ng-blur="item.attachmentHandler.updateAttachment($event, attachment)" style="display: none;"/&gt;
                              &lt;div&gt;
                                &lt;time&gt;&lt;sn-time-ago timestamp="::attachment.sys_updated_on" /&gt;&lt;/time&gt;
                              &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class="col-md-2 col-sm-3 col-xs-3 tools v-middle align-right"&gt;
                              &lt;div class="btn-group" ng-if="::(attachment.canWrite || attachment.canDelete)"&gt;
                                &lt;button type="button" tabindex="0" class="btn btn-default btn-clear" ng-click="item.attachmentHandler.editAttachment($event, attachment)" title="${Edit file name}" aria-label="${Edit file name}"&gt;&lt;i class="fa fa-pencil" aria-hidden="true"&gt;&lt;/i&gt;&lt;/button&gt;
                                &lt;button type="button" tabindex="0" class="btn btn-default btn-clear" ng-click="item.confirmDeleteAttachment(attachment, $event)" title="${Delete}" aria-label="${Delete}"&gt;&lt;i class="fa fa-times" aria-hidden="true"&gt;&lt;/i&gt;&lt;/button&gt;
                              &lt;/div&gt;
                            &lt;/div&gt;
                          &lt;/div&gt;
                        &lt;/li&gt;
                      &lt;/ul&gt;
                      &lt;div class="errors-wrap" ng-hide="errorMessages.length == 0"&gt;
                        &lt;div class="error-msg icon-cross" ng-repeat="error in errorMessages" ng-click="item.attachmentHandler.dismissMsg($event, $index, errorMessages)"&gt;
                          &lt;span&gt;{{error.msg}}&lt;/span&gt;
                          &lt;span class="file-name"&gt;{{error.fileName}}&lt;/span&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                      
                    &lt;label ng-if="!submitted &amp;&amp; !item.no_attachments" class="attachment-label"&gt;
                      &lt;span class="file-upload-input"&gt;
                        &lt;input type="file" style="display: none" multiple="true" ng-file-select="item.attachmentHandler.onFileSelect($files)" class="sp-attachments-input"/&gt;
                        &lt;button title="" ng-click="item.attachmentHandler.openSelector($event)" class="panel-button sp-attachment-add btn btn-link" aria-label="${Add attachment}"&gt;&lt;span class="glyphicon glyphicon-paperclip"&gt;&lt;/span&gt;&lt;/button&gt;
                      &lt;/span&gt;
                      &lt;span class="fa fa-asterisk mandatory" 
                            ng-if="item.mandatory_attachment &amp;&amp; item.included" 
                            ng-class="{'mandatory-filled': item.mandatory_attachment &amp;&amp; item.attachment_submitted}"
                            style="vertical-align:super"&gt;&lt;/span&gt;
                      &lt;span&gt;${Add attachments}&lt;/span&gt;
                    &lt;/label&gt;
                  &lt;/div&gt;
                &lt;!-- &lt;/div&gt; --&gt;
              &lt;!-- &lt;/div&gt; --&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class="empty-state-content" ng-if="includedItems.length == 0 &amp;&amp; !evaluatingIncludes"&gt;
            &lt;h3&gt;${Order Guide has no items to order}&lt;/h3&gt;
          &lt;/div&gt;
				&lt;/div&gt;
				&lt;div ng-if="guide_step == 2"&gt;
            &lt;!-- class="panel-body" --&gt;
          &lt;h3&gt;${Review}&lt;/h3&gt;
					&lt;div class="list-group"&gt;
						&lt;table class="table table-striped m-b-sm light-border-bottom summary add-margin-bottom-xs" 
                   summary="${Summary of order}" &gt;
							&lt;thead ng-repeat-start="item in ::includedItems track by item.sys_id| orderBy: 'order'" ng-class="::{'summary-excluded': !item.included}"&gt;
								&lt;tr&gt;
									&lt;th class="col-md-6 padder-t" scope="col"&gt;&lt;h4&gt;{{item.name}}&lt;/h4&gt;&lt;/th&gt;
                  &lt;th class="hidden-xs"&gt;
										&lt;span ng-if="::(totalIncluded == includedItems.length) &amp;&amp; !item.included" class="wrapper-xs not-included not-included-pill"&gt;${NOT INCLUDED}&lt;/span&gt;
									&lt;/th&gt;
								&lt;/tr&gt;
							&lt;/thead&gt;
							&lt;tbody ng-repeat-end ng-hide="!item.included"&gt;
                &lt;tr ng-repeat="field in item.field_values" ng-if="field.visible"&gt;
                  &lt;td class="hidden-xs"&gt;&lt;strong&gt;{{::field.label}}&lt;/strong&gt;&lt;/td&gt;
                  &lt;td&gt;
                    &lt;div class="visible-xs"&gt;&lt;strong&gt;{{::field.label}}&lt;/strong&gt;&lt;/div&gt;
                    {{::field.display_value}}
                  &lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr ng-if="item.attachments.length"&gt;
                  &lt;td colspan="2"&gt;
                    &lt;div class="file-list-wrap"&gt;
                      &lt;ul class="list-group" style="margin-bottom: 0; padding:0"&gt;
                        &lt;li class="list-group-item" ng-repeat="attachment in item.attachments"&gt;
                          &lt;div class="sp-attachment-block-single-line file-attachment row"&gt;
                            &lt;div class="col-md-1 col-sm-1 col-xs-2 m-b-none text-center"&gt;
                              &lt;img alt="" ng-if="attachment.thumbSrc" class="attachment-thumbnail img-responsive" ng-src="{{attachment.thumbSrc}}"/&gt;
                              &lt;span ng-if="::!attachment.thumbSrc"&gt;
                                &lt;span class="glyphicon glyphicon-file text-2x"/&gt;
                              &lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div class="col-md-11 col-sm-11 col-xs-10 file-name v-middle"&gt;
                              {{::attachment.file_name}} ({{::attachment.size}})
                              &lt;div&gt;
                                &lt;time&gt;&lt;sn-time-ago timestamp="::attachment.sys_updated_on" /&gt;&lt;/time&gt;
                              &lt;/div&gt;
                            &lt;/div&gt;
                          &lt;/div&gt;
                        &lt;/li&gt;
                      &lt;/ul&gt;
                    &lt;/div&gt;
                  &lt;/td&gt;
                &lt;/tr&gt;
							&lt;/tbody&gt;
						&lt;/table&gt;
						&lt;div class="padder-v clearfix hidden-xs hidden-sm" style="padding-top: 25px !important"&gt;
              
						  &lt;div class="pull-right m-r-lg m-l wrapper-sm" ng-if="data.showPrices" style="top: -10px;position: relative;"&gt;
								&lt;div class="pull-left"&gt;&lt;strong&gt;${Total} : &lt;/strong&gt;
								&lt;/div&gt;
								&lt;div class="pull-left m-l-xs"&gt;
									&lt;div&gt;&lt;strong&gt; {{price_display}}&lt;/strong&gt;
									&lt;/div&gt;
									&lt;div ng-repeat="freq in ::frequencySequence"&gt;
										&lt;span class="clearfix" ng-if="frequencyMap.hasOwnProperty(freq)" style="font-size:13px"&gt; + {{(frequencyMap[freq] + ' ' + freq)}}&lt;/span&gt;
									&lt;/div&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
            
            &lt;div class="clearfix visible-xs visible-sm"&gt;
              &lt;div class="pull-left m-r-lg m-b-sm" ng-if="::data.showPrices"&gt;
								&lt;div class="pull-left"&gt;&lt;strong&gt;${Total : }&lt;/strong&gt;
								&lt;/div&gt;
								&lt;div class="pull-left m-l-xs"&gt;
									&lt;div&gt;&lt;strong&gt; {{price_display}}&lt;/strong&gt;
									&lt;div ng-repeat="freq in ::frequencySequence"&gt;
										&lt;span class="clearfix" ng-if="frequencyMap.hasOwnProperty(freq)" style="font-size:13px"&gt; + {{(frequencyMap[freq] + ' ' + freq)}}&lt;/span&gt;
									&lt;/div&gt;
									&lt;/div&gt;
								&lt;/div&gt;
							&lt;/div&gt;
            &lt;/div&gt;
            
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class="m-t-lg clearfix" ng-hide="evaluatingIncludes"&gt;  &lt;!-- class="panel-footer clearfix" --&gt;
          &lt;div class="pull-right"&gt;
            &lt;button class="btn btn-default btn-lg" ng-if="guide_step == 2 &amp;&amp; options.show_add_cart_button == 'true' &amp;&amp; !data.sc_cat_item.no_cart" ng-disabled="submitted" 
                    ng-click="triggerAddToCart()" name="add_to_cart" &gt;
              {{::m.cartMsg}}
            &lt;/button&gt;
            &lt;button class="btn btn-default btn-lg" ng-if="guide_step &gt; 0 &amp;&amp; !submitted" ng-click="goPrev()"&gt;
              {{::m.prevMsg}}
            &lt;/button&gt;
            &lt;button class="btn btn-primary btn-lg" ng-if="guide_step &lt; 2" 
                    ng-disabled="submitted || data.sc_cat_item._mandatory.length &gt; 0 || (totalIncluded &lt;= 0 &amp;&amp; guide_step != 0)"
                    ng-click="goNext()" id="submit" sn-focus="guide_step &lt; 2"&gt;
              {{::m.nextMsg}}
            &lt;/button&gt;
            &lt;button class="btn btn-primary btn-lg" ng-if="guide_step == 2" ng-disabled="submitted" 
                    ng-click="triggerSubmit()" name="order" sn-focus="guide_step == 2"&gt;
              {{::submitButtonMsg}}
            &lt;/button&gt;
          &lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;!-- &lt;/div&gt;
	&lt;/div&gt; --&gt;
	&lt;div ng-if="::!data.sc_cat_item"&gt;
		&lt;div class="panel panel-default"&gt;
			&lt;div class="panel-heading"&gt;
				&lt;h4 class="panel-title"&gt;${Item not found}&lt;/h4&gt;
			&lt;/div&gt;
			&lt;div class="panel-body wrapper"&gt;
				&lt;p&gt;${This item is not found or currently not available}&lt;/p&gt;
				&lt;p&gt;${Suggestions}:&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;${Try searching for the item}&lt;/li&gt;
					&lt;li&gt;${Go to the Service Catalog homepage}&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div ng-if="::!data.recordFound" class="alert alert-info"&gt;{{::m.invalidRecordMsg}}&lt;/div&gt;
&lt;now-message key="Items have been added successfully" value="${Items have been added successfully}"/&gt;
&lt;now-message key="Catalog Home" value="${Catalog Home}"/&gt;
&lt;now-message key="View Cart" value="${View Cart}"/&gt;
&lt;now-message key="Attachment(s) are not added" value="${Attachment(s) are not added}"/&gt;
&lt;now-message key="Leave page?" value="${Leave page?}"/&gt;
&lt;now-message key="Changes you made will be lost." value="${Changes you made will be lost.}"/&gt;
&lt;now-message key="Cancel" value="${Cancel}"/&gt;
&lt;now-message key="Leave" value="${Leave}"/&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<payload_hash>1247294839</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>77862e00db10481090c6d6a75e9619a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170b29b0000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>SC Order Guide Alt</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_guid>cb33664ccfdc0810fbf8aa92a8704f79</update_guid>
<update_guid_history>cb33664ccfdc0810fbf8aa92a8704f79:1247294839,45ae9e083adc08108eb3c73643de9c46:-557968550,714d12088bdc0810bd8ac379269edcc3:-550707901,17dc5ac4a6dc0810f26ebde7b79bf6c8:724217469,239c52c432dc0810f754fcb53f036850:-1275707900,9001d91f5b8884100287165901f9aa8b:724929136,39a0591f4d888410d1169c3f701d1a1d:-820849470,1f50191f9888841093bd11c4b94c24b4:-241410606,9d5e101b40c4841021656c935242b1f0:652121448,b7ed94d770c484101e23ba820507645d:-255826981,624d90d783c48410711426fdcc17fda3:693428106,711d149751c48410c2c174b8c88044b3:-1093977287,12ac5c97efc48410d32c5c85074cb606:1607534470,0a299417c3c48410541d8e0a01825b7c:-77237232,8f785cd30ec484100f113d60cbde29e5:-133504902,ea481c93ffc484109b1e77bc9bcb8db6:-337475272,b628d09325c48410c8d9292af975eeb1:-1468095842,77e51853a5c48410b80a3eedc4f67b9a:-1378721051,14351853eec48410df4c3683ab11caa4:390609501,54f49053c7c48410a46bf477dde2bcdb:1416684374,e5e310130dc4841022f28333f8c9e9fe:-524283807,2f93181359c48410c512e13f9ac7418a:-1845979651,97ce005f5b848410e82382ca79cfc66a:1938543051,f18ecc1fea8484105854eb3be3befb29:-1911059273,ea5dc85bec8484102a38e367ce59f6cb:-831877577,fb1404572a84841092e58f858acab11f:1363871959,60bddeb601c444101ea7f5a7b728069f:-588321989,d33d9ab602c44410ac2eb61870abfc77:509542676,8f2dd2b6b8c4441094174bf8249a518e:-724824529,333afd3ee8444410a908fd43f94d010f:-539650615,d0a975fa924444101216f06b5c6b7300:-539650615,d6e961fee9044410eb3ad60c2b48a7f4:-539650615,d60120f664404410110620c08ace9de4:-1506050393,bfa0e4f65c404410ed03527dde3f1cd7:-1696024763,4f9e5036304044109678773d6b1c4207:1116162886,5214a32e0b8c041038391bee2c073c17:-539650615,077272d20c4004102f208963e16ead33:-749796860,9ecbf9de738cc01059b0436e68e21d0a:539071876,427b71dee88cc010cfdea212aa74feea:-1493867043,053ab55e848cc010a2334bda186a4759:-478836671,41b9755eaf8cc010245c3963e754ff6a:-242331295,7a78755e408cc01018efbbdb5d062018:604988021,bd97b51eba8cc0109bec04838c3c1ad1:-1120795087,1d6e7ace3684c010264f37c42235c213:-939896094,395d760268c4c0105f5fe338c29e30f8:1146633462,6c993e4e0684c010f290edd5b6bfd97f:1476738077,e6593a0e2484c0105311b360c9ed0ffa:-2066915726,d839724e2d84c01079ef5988071de915:-1280397086,bcd47a8a5d84c010dbc94539564926b6:1977700525,9133c8c981040010359d8e7f991da694:-2049837876,6aa05b349c400010f48b8b499380abdd:2136874895,ade1a27c0fc0c09076ddd44849d92e3b:269444429,9c70ae78e8c0c0902fed995cb30dfd05:1872587207,798fdef8bdc0c090780066a2fcf2c17a:-728265155,bc8fdef864c0c0907d03f943fa4f8876:418284695,7e7f5a74f0c0c0903c32212b16305822:1965887242,16dc52b01ac0c09012cb7532d25b54a3:855828400,878c5e78d0c0c0901b0474dd52df44fd:-1226986641,2f125a3c1380c09017871d2acfc1ef45:1965887242,e2411a702ec0c090a1b58db99b8ceec4:-2089610159,56f01afc3f80c0909d704d5c3d08b6bc:812961810,cbcf0afcc280c09007b0ec69c1dc4fb7:2036146964,81bf4a3ce080c0904f4786d9134bd641:406263494,55ab4e381680c0903cd2c3a96a5e9144:582021030,28990ef49d80c090e9b56e1e9d17d0f3:-525267005,f339c2f88280c090bef36eb2759a238b:297378162,2ef84e38b380c090258d9c647726a440:46955657,1977c2f85e80c090615a9021395fca85:-1783797403,bf078238fb80c090a6ddfb9e4dd5c031:813450423,6d3546b42380c0902139047c3815e7cf:-1336343628,66c48238d880c090bf763545e959f72e:-431694128,1f840ef43880c0905012da381fc5d5ec:-1920661931,d0e3ceb4b380c0900b3cd5f1f1bc52ee:1503620463,cc620ef47780c090af801fd7b49413e7:1786392666,6e228eb41680c090a4ed396dfc2da7f2:-997270076,30e10234fb80c090ff4596fa67d16ce5:1659438172,ecb18eb49e80c0908e8db1dd554d92ee:2119082936,d151ceb45180c090190a3acda5010be8:-588581033,a831ceb49780c0907545832d705f54e4:223915450,86118eb4db80c0906a733573060936eb:-622395083,fed042f0a880c090fe5ad69a498b1165:2068994022,97a04eb0f280c090f202d943b599aa82:-2130919647,7d904eb0ef80c090197dce5f1c2d497e:291393729,343d3134fb80c09006c7882313b0a8de:28525050,932b71f03980c0900f36ccca05a0235e:863699405,68f67d7c8f40c0907e65f36b8b3c65dc:1859591592,8695b53caa40c090251f5cc78f34a6da:-591991160,63f3b978e140c09015661682b6038941:450983417,8ad2b53cfd40c090c922e363abcbddd5:-1513706966,b8d275780140c0902fb673d6d338defa:-1742607261,acd0b53c9140c090b5e4378a59c8cbd0:-1449563190,7770f1f80c40c090fa62ed516f9ad045:-942335251,665fe1f8c440c09009775793862bf841:-447972534,ab2fe1f8b540c090b45ee9765699913d:-562057481,096d61b08b40c0905168271f48c5cd09:-1432023675,823da9784a40c090a4295269fbc1863a:21333080,c6ac2db0d240c0904ab534247c1df528:724392256,c83c65789a40c090cf495d37f38794f2:-1184463580,de6aad307240c090f5353530b4d71092:-277441605,e6d12db05c40c09070e5f4faee5f971f:151697437,513b15f80500c0909ec6789973189b5a:980379818,e47a957cbc00c090209e12d444b354d5:706189327,6859957c8300c0909c7de610fd0bf2d1:-1018896160,e3375db88200c0908667a583a213234f:-1897733504,c0f69df8bd00c0907965ca34dbdf0e5f:-988062428,29d65db85900c090a85c3c747d0b6e4b:760743952,6e665db87c00c0906d81622caf08ca47:-1346111337,700615f87e00c090fca47b186ea20552:-2060929989,13c3d9343b00c090444cb932f60abc42:21234939,cf1399b42d00c090b4c4ec6b0cbd11bc:-1814052124,86e291f42e00c09003ed5add8b7f1c1d:35719654,f1ae89b42100c09068e8b295b2d158b8:823736084,4b5b41f0e400c09038e3b88fb49ebecd:-873230838,558941f02e00c09030aaf767bc1cb8c6:2023852845,8ff9acb8518c8090d0b959e45e68296f:-2104107190,82d6b78c260840904b9f4cd2fb79cd9a:-274579221,5cc57f0cb60840901cdf6d813b34f316:-1416703714,3585bbcc8c084090ab53af2e79de4dc8:-591922849,70b473cc99084090ac3908d95455b8d8:-1164304454,54a3b78cf3084090da73e96034e4ab94:1720442588,5b137fc416084090ef97f3272d9df29f:-1811426466,82e2bbc841084090474fb938e7c5a56e:273878592,1672f30c6308409082282b8a76a0a1f5:-569881920,7861f30cff08409033a6af73da604af1:-421767103,9084a74086084090a6b220edd9782be6:-541167592,9e236fc0de084090019abd78ebeabfb3:2136485970,0382a78013084090ba26d824dc513bee:2024074218,35f0a78057084090c3a46e3255da39e9:-1417459288,f770afc800c44090c65b5c33fb1d970d:1544113966,cafa9fc85ac440909cc3bf12cdc55e08:1170268658,ff365b086ac44090d21faefcf32df861:853003498,f6951fc437c440904410830a525e3565:-2111266873,7df49f80ecc4409009e2db9a4a5b79a3:1078705078,8bd45b8459c44090611ebe6d5f2f2e5e:38365851,ecb35b84e1c440902bfccd69c4c0ae5a:-1087722583,12215b08d7c440908de38f37cacea65a:-625441369,875d074011c4409085f34dfb92b9054d:435651810,1139c780b4c4409020dd6b18a0242924:549345707,9ab8074055c44090dc997474d7bc4848:-1741540592,4648c780bfc44090ff898d67ee666020:-1765426242,8b380bcc5f844090ceff10713235cff4:-565639817,e7f70f8064c440906c17f8ac41308450:-1689047110,8a87c7801ec44090e5ce28079942d11c:280236884,dc650bcc478440900b0818fc800d35f0:163021928,ea040fccce844090c407a105c7e72d54:723934820,a8d34bc46984409095972d9ab1a84a38:-1306615748,32530fcc23844090ca9725e03278cc51:-1530151884,213d024c3d04409038b7c00ae9d7102f:-562561378,8c1d828c6d044090fb954d9fd2e7600d:1065057593,aaccce0ca80440901c737400b9d6bd9f:1767674981,40bcce0c35044090e6330b7b342e029c:-1832099877,6d6b8e88cf0440904423d2aef51c4eff:-1495735715,bd4b06c435044090797a42a807eb2e0c:491379801,b33bce0c3a0440909cf5a8e582f87c97:-2079142531,e07906c40f044090a46d0df9911f7607:1457133535,3e694ac4cf044090a6db9a2401c2b217:-952985417,045781805980409017112eeb49357d9b:-557905751,bfa64140ec8040905502469a27d28d95:-1868048331,9956c5402d804090b42225119afa1b7e:52719567,3ce5c1409c804090fd5cb951ea61e174:1268903438,7390cb7bdb3f33805f3880e369c8a2cb:-1558904871,02cef6f77a3f33809e4a31cbb378fedf:135257454,75fdf6f7263f3380a568dfe7717a59db:480220460,abda7237d13f338064ce26fbbe246c43:1378946982,c4897e375e3f338007f92887e0e0d089:-227572111,0ef87e374f3f3380c57e7ee39c095685:-1199742632,4d087273883f33802824f28f65d7cad8:-1731645254,cbd772377f3f338014b299207483e83b:328284800,0ed772375c3f338021ba131f98694016:520689911,81567273b53f3380cd3043a139f7cbd5:1122707110,65037273d53f33807ae22981fb03bdcf:252809715,1a227a7f11fb3380b56fb756e415ba4c:-1831085078,7c027a7f2bfb3380eb7867bd66279148:-1757932936,3681f67fd7fb338021e7f589f79fc458:757404307,9bcd6e3fcdfb338089a3bca957d9e253:-1615457651,ff9d6a7ffdfb338065d4ca0ceff6c341:798256125,336de67fdafb3380a2bb3b5d738fc451:-1778856261,b71daab78efb3380e4c9068c82c53309:944837561,109c6efb8bfb3380f0a8a89d07f30874:1502644457,de7c6e3f57fb3380a2e823d20e662e4f:-50919919,674c6efb0ffb3380b86154075e8d9d70:388102247,f39b263f26fb33808a1a9f47756473b5:-350359023,5e6b66fb59fb3380dbc66590fe98fe4b:-1989053387,a05b66fb2dfb3380e682aeba07060348:455273363,d62b66fbcbfb338033323368a0aa6844:-746676296,1afa6efb7efb338083e19c335a78b36a:-1641184876,3b3aeeb31cfb33809c40f233a01bab00:1569426916,c42a62f737fb33803c95f5720556d9a8:1142540123,8782aab7bffb338098dc638dba886d00:-119031266,d66f1a3767fb338090afa0294e9825a2:526773491,d63fd6f3defb3380302043b8f74d0d82:2116369992,3ebdd6f3affb338055d177c567b5d57e:906308438,608dd6f392fb3380bce8489f44f5697b:1155827623,f31d12f307fb3380e9596383f4c2b733:-128652018,d2cc12f311fb3380fc3672cb8adb9e2f:1538387972,40bc967310fb3380053ecd59c05f4487:-1180027191,943c967357fb3380cd18626694552c83:-669622681,645bde339dfb33802139096cf13efe9d:412893879,722b9effb5bb33800f62db5f7f310622:1625912213,66da5ebfd5bb338053f7f72026e4d4bf:1062923921,ebaa9673b1fb3380bf01af4801952a7f:129929170,315a9673e4fb338069743abb6a60b97c:-1240338753,7b0ade3361fb3380e687c206f4146d98:-566300829,4a599ebf04bb3380a21b60daa6f0a4a1:-170341086,ac199ebfeebb338082b87b6462b68a9d:91478310,44b89eff8fbb3380b3cfe9141365ed1d:-577916636,79089effd6bb3380b7a1ec50a7088c18:-1038920847,2857927ff3bb3380a52e0083c9460fd7:426370473,4dc6927f01bb3380fa6b1551747fdad3:1254819543,80969ebf4bbb33808e412b9be214cf99:-126202481,c5869efbefbb338003d2bf2b4f8fee63:1423707352,81761a77b8bb3380824cecc79202b007:-126202481,c65616bf30bb33801b4e5a9439b980d1:-1276414174,f71616bfa0bb338037567eedf04349cd:-488157005,0fb516bff1bb33805081373fa2c06fc9:-1357646609,0204927fdcbb33805f5147f8559719ce:1345746932,d1839e3b0cbb338071da1b2548fb0049:162760917,6a135a373ebb33809977d82dba4079c8:-1344104681,9aa29efb04bb33800c7a7e612c48b35d:1521593183,0a829e3b1abb338046f3595fab6e1645:-446611487,cd229efbefbb33807f5b20cd05ad1d59:-611961381,70d15eb35ebb3380d6fac5790dcc57d8:1350770927,289fb9bb9d7b3380e0ea20f9b613455f:786524489,3cdabdfbe47b3380625b4fc256878351:311238797,681af57b697b3380cb95158e2cdd880c:1485284387,afa8f57bd87b33800328f7397536b308:-1509906131,0cd7b5f7e77b33807582620a6d6ca9fa:-32371445,5fb73133da7b3380980311816e2e9794:-401111681,d7d6f57bd37b3380b310a7573e2fca03:-863908998,1d93b5f7bf7b338027151850f82ff8f2:-1260301659,f71889fffc7f3740db7439ba0d6b7696:-569969737,e418cdf77c7f374055d8a0651f7b652b:-1687996419,53d4453b037f37404bde14c1aed32a93:-1545459721,06befcf7ce7f3740bc5af00792be7221:1795214598,4cdc7877387f3740289d565d419f5e41:-1242730834,04acb8f37f7f3740be15146b2f771acd:765900347,2d85387ff93f374009e0a84f014f52fe:1795214598,2bb4307b2f3f3740b524e3766bee5408:-623159399,63c9ccfb29bb3740afa65622a62ac5ed:-1371229953,c88548378cbb3740b9ec196966399012:-26084541,a6d3407345bb3740541067826941d71d:960993812,6142483737bb37401e3eae28f14ce90f:1867791358,2891c077c8bb3740b93b964bcbd82dae:174969682,c25148b3f6bb3740c85284fb858f0f0f:-1999542021,a20f7fab367b37403810661a8ec91c37:390255157,a4fd7ba3bfbb37402a68d4cb35d53a08:549509973,2b0cf3ebc27b37405766d25a109b9a0e:724516287,abb3b3ebe87b37406e78ff2a6d0adbae:-547385484,84a2f7e7997b3740c4867d1f6fadf5de:854978157,c7527767417b374046fad51d4bd3a87b:-1594408432,3002f327f07b37401f3119e078214d67:1800210413,1d71f3677b7b3740eeea817ce34cd158:-153612690,8a5f67677c7b37409e351ba9cfc22b74:211080200,415fe3679e7b37404062f605e69bd954:326146440,98dee7e7627b37404962de8dd45faad8:-1131976923,2ebbeb63b67b37403ccc4cedd424c4ab:2071235571,578be367137b3740fc3029d9c60cff4e:545523854,2ca9af2fe93b3740bfd21f93030dae2d:57760250,7159eb63167b37403539c155b507e7a7:292639269,a696eb63417b3740743dbba1a3d1cda2:-1713384342,5a452bef9a3b37401a32855aa2e2a66b:-137451774,1404efe7373b3740339d4e159f4b57c3:-529354654,9d832befa43b37400cad3ff634292666:1544016441,6d926fafec3b3740273350123b419bea:126441219,bbb0efe72b3b374007ee9e2f6d0771bf:-579303135,7ebf5b67013b3740f3d62cbaa1e0b7c5:411839317,bc0c17ab283b374031b2b91385c30768:614680194,eabb1727e23b37402ac5358ca63506f9:-489303236,5567ad6793f337409f65b39ddd18a944:-1276843687,b9e6ad63cbf33740db070d61225b5d27:230345017,e7c6edaf2bb33740f259b9b6830b1be9:1746278550,61e511a79cb3374056ca8fd837f09e17:-217206716,2eb5dda751b3374014e34707b2ca499f:1367378488,df7a8d1f3cb7f34078a656d43055ec69:238642820,f2d98d1fc3b7f340282eaa6b52379e66:2067066029,2739859f0877f34096fb9e4a59afc74b:-704970837,a4b88d1f5cb7f340ec66d824e4c9b161:1380360920,ee288ddb4bb7f34071a579364e9c1285:2008586930,aef7c19bcab7f34088c2defea06aafaa:1786207472,8ca78ddbaab7f34080112236f647d681:1672351105,91c6c19b29b7f3407d251c41251cd3a7:-115940775,56764d1b31b7f340966bae44679a5da8:-2099654432,d316c99775b7f340cc306cf4c0820269:2013861332,26e4c19b8bb7f34090d5aa2e8a6ee6a1:2140114558,a6a4815731b7f340c0316d4691ea56de:-1581489947,c4344d1b15b7f340bd2f39692c3cc5a2:-703631500,b593c997a7b7f3403a23f4b4dcfd9564:1776321108,d9134d1ba6b7f340638c13608ab2799e:-1791764570,65feb49fb077f34069fb035cfca4d544:586196507,9d9e3c138cb7f3406dfa21e777a5bde9:600902155,a94e7cdfd177f340556b8ce6e67e688b:-308394717,73dd3c13b5b7f340e683070d6d9ab8e6:-427753027,1040b0d74177f340a02e7bc046b6769a:-1612296458,cbdf641b7377f3406d54cb69229ef20e:-1144530911,62bfe01b9777f340240b18642f9bc0fc:696879169,36afa0d7e277f340be9b53f5a3212096:-865126381,958aa497af77f3400084b43339d10ea3:-624239384,4e5aa097b077f34064299da8a0178f94:2068755922</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_ng_template_fee9803fdbbb374090c6d6a75e961927</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_ng_template"&gt;&lt;sp_ng_template action="INSERT_OR_UPDATE"&gt;&lt;id&gt;row-based-form-template&lt;/id&gt;&lt;sp_widget display_value="SC Order Guide Alt"&gt;0a5aa097db77f34090c6d6a75e961993&lt;/sp_widget&gt;&lt;sys_class_name&gt;sp_ng_template&lt;/sys_class_name&gt;&lt;sys_created_by&gt;jacob&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-09-16 17:14:52&lt;/sys_created_on&gt;&lt;sys_id&gt;fee9803fdbbb374090c6d6a75e961927&lt;/sys_id&gt;&lt;sys_mod_count&gt;82&lt;/sys_mod_count&gt;&lt;sys_name&gt;row-based-form-template&lt;/sys_name&gt;&lt;sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d"&gt;351ae457db77f34090c6d6a75e96197d&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="SC Order Guide Alt"&gt;351ae457db77f34090c6d6a75e96197d&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_ng_template_fee9803fdbbb374090c6d6a75e961927&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;jacob&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-09-26 11:02:27&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div&gt;
  &lt;div ng-attr-id="{{::formModel.table}}.do"&gt;
    &lt;fieldset ng-repeat="container in containers"&gt;
      &lt;div ng-if="(container.caption || container.captionDisplay)"&gt;
        &lt;legend class="h4"&gt;{{container.captionDisplay || container.caption}}&lt;/legend&gt;
        &lt;sp-help-tag field="::formModel._fields[container.name]"&gt;&lt;/sp-help-tag&gt;
      &lt;/div&gt;
      &lt;div class="row"&gt;
        &lt;div ng-repeat="column in container.columns" class="{{(column.fields.length == 3 &amp;&amp; container.columns.length == 1) ? '' : 'col-md-'+(12 / container.columns.length)}}"&gt;
          &lt;div ng-switch="::f.type" ng-repeat="f in ::column.fields" ng-class="::{'form-inline': isInlineForm === true, 'col-md-4': column.fields.length == 3 &amp;&amp; container.columns.length == 1  }"&gt;
            &lt;div ng-switch-when="label" ng-if="formModel._fields[f.name]" ng-show="formModel._fields[f.name].isVisible()"&gt;
              &lt;label ng-bind="f.label"&gt;&lt;/label&gt;
              &lt;sp-help-tag field="::formModel._fields[f.name]"&gt;&lt;/sp-help-tag&gt;
              &lt;hr class="sp_label_hr"&gt;&lt;/hr&gt;
            &lt;/div&gt;
            &lt;div ng-switch-when="field" ng-if="formModel._fields[f.name]" ng-show="formModel._fields[f.name].isVisible()" ng-init="field = formModel._fields[f.name]"&gt;
              &lt;sp-form-field ng-if=" field._class_name != 'YesNoQuestion'" form-model="formModel" sn-change="stagedValueChange()"
                field="field" glide-form="getGlideForm()" default-value-setter="setDefaultValue(fieldName,fieldInternalValue,fieldDisplayValue)"&gt;
              &lt;/sp-form-field&gt;
              &lt;div ng-if=" field._class_name == 'YesNoQuestion'" class="form-group"&gt;
                &lt;label class="field-label" for="sp_formfield_{{::(field.type=='html' || field.type=='translated_html') ? (field.sys_id || field.name) : field.name }}" title="{{::field.hint}}" aria-label="{{field.type != 'reference' ? field.hint : field.hint + ' '+ getReferenceLabelContents(field)}} " tooltip-right="true"&gt;
                  &lt;span class="field-decorations"&gt;
                    &lt;span ng-show="field.mandatory" class="fa fa-asterisk mandatory" ng-class="{'mandatory-filled': field.mandatory_filled()}" title="Required" style="padding-right: .25em" aria-label="{{field.mandatory_filled()? 'Required Filled ' : 'Required '}}"&gt;&lt;/span&gt;&lt;span ng-repeat="decoration in field.decorations" class="decoration {{decoration.icon}}" title="{{decoration.text}}"&gt;&lt;/span&gt;&lt;/span&gt;{{field.label}}
                &lt;/label&gt;
                &lt;div class="type-{{::field.type}} field-actual" ng-class="{'state-mandatory': field.mandatory, 'state-readonly': field.read_only, 'state-hidden': field.hidden, 'has-error': field.isInvalid}"&gt;
                  &lt;label ng-repeat="opt in field.choices" ng-show="opt.value != ''" class="btn btn-default m-r-xs" ng-model="field.value" ng-click="field.stagedValue = field.value; field.displayValue = field.value; field.display_value = field.value" uib-btn-radio="'{{opt.value}}'"&gt;{{opt.label}}&lt;/label&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div ng-show="field.messages"&gt;
                &lt;div ng-repeat="message in field.messages | unique: 'message'" class="wrapper-xs r m-t-xs" ng-class="{'bg-danger': message.type == 'error', 'bg-info': message.type == 'info'}"&gt;{{message.message}}&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;sp-variable-layout ng-switch-when="container" ng-init="containers=[f]"&gt;&lt;/sp-variable-layout&gt;
            &lt;sp-checkbox-group ng-switch-when="checkbox_container" name="f.name" form-model="formModel" 
              containers="f.containers" glide-form="getGlideForm()" class="checkbox-container"&gt;
            &lt;/sp-checkbox-group&gt;
            &lt;sp-widget ng-switch-when="formatter" ng-if="formModel._formatters[f.id].widgetInstance" 
              widget="formModel._formatters[f.id].widgetInstance" page="{g_form: getGlideForm()}"&gt;
            &lt;/sp-widget&gt;
            &lt;hr ng-switch-when="break" ng-show="formModel._fields[f.name].isVisible()"&gt;&lt;/hr&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/fieldset&gt;
    &lt;div ng-init="execItemScripts()"&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_ng_template&gt;&lt;/record_update&gt;</payload>
<payload_hash>573863577</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>7b862e00db10481090c6d6a75e9619a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170b2460000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>row-based-form-template</target_name>
<type>Angular ng-template</type>
<update_domain>global</update_domain>
<update_guid>d63752b2f2c44410e7dfd56c5039f566</update_guid>
<update_guid_history>d63752b2f2c44410e7dfd56c5039f566:573863577,a9075e72eac44410ecaf8b64c39cac62:174284693,7ce61672d9c444101e79eaceca3bf481:-2143949547,1a06927209c4441058dc7995feb8a050:573863577,9da64ab637844410dade7bfb4fe2e9ef:190782510,21d506b6c0844410731b7c20c67e959e:94889733,34e48e76e18444105c20ec4ef9754b24:1136046512,7e0cf5be1c444410e189105255f12b10:1334648242,ebe735fa984444101a7b3110657d8d63:1136046512,75d7f1faf44444107495926cbe88cd39:1799074890,8b93b9f63f4444102fcaf9a863aeaee5:923177556,a8023db630444410f2fc8f32ba518062:-2060324412,fce131b6d64444103d83e96c1d3ae9a9:291015319,e0082d7e21044410199468a3a7de3635:1258504645,75403d96988cc01034c037396505cd6e:177723892,bb00b1d6a38cc0104cfbe3c4b7881715:-899630954,078f2d96348cc01069ab70d5c4a8bb34:1923527329,94db2116cc8cc010a6ca3ecc917f43fe:-1991208626,71ab2116a98cc01078073309205b44ac:-705552536,9eea61d2af8cc01008f0e035ba5ab46e:2037254836,47b86552528cc01035cf4ff5ecf32b9e:1193716682,131621de2a4cc010343fb6b94497e1ef:-790354348,9d6e3242fbc4c010a066e2ab16355dd7:966461713,f95d760232c4c010abee94b4223aebfa:-1258942430,b0d47a8a2184c01069fea42c90291eb9:266931062,40cabebcd804c090f3b5d13d54887a7d:2074961376,dc9afe300a44c09061b1f5c5652e7d61:1808333481,793afe308744c090fd1e29db05a32b5e:-948866242,fd0936bc0604c09026b60fbbd9e8f304:1665286026,4ab832302d44c090a166580d06739410:-477258996,292836bc1204c09073b30f165ebdce01:-700144721,b8a82afccfc0c090e1f1abd3274398f7:-2142136869,54d2a6f834c0c09005fe1d890d29fff0:-1647299461,87c2a2bce4c0c090d0f1dd0ab7b917fa:-759075114,2782a27c84c0c090356e2d3ffccac03f:-2142136869,f3c1a27c39c0c090dba9a6226e374738:135004536,f381eef8aac0c0909e5be0bdd6eb3e16:1106520967,0731eef847c0c0904ebabae8b40b857e:-1523367227,ef587d7c3d40c09020115f3fbe5928e0:-1365055258,ed583df89640c0905847329aa8a14ca4:-1815872315,424831fc3940c0903530e9e3d1c32e92:1639482452,2689c93833cc8090820a22ff8702cd82:1914570302,9d0eb3e0f64c8090dd79bb896f16d399:-82040514,114dff6c6f0c80907eaa8562da454927:-352663652,0accb3e02f4c809096efccf6252c8a96:-1843768740,843cf3ec1f0c809014d635d78c9e4b1b:1088865286,b92bff6ce20c809049fe464e8f89bc23:426145148,6f94ff6cb70c8090526a5fae095c0e1d:967601156,9ec23f2c070c80906233283aafc17ce5:874183961,92a23f281b0c8090909f8c1a9b657568:159189055,d1723b64830c809004e88f67cb71e409:1271596901,df4077e45d0c8090953c94d170877fc1:-1688273524,b03eafe4f10c8090d473c5f72dc742fe:-772287268,d68b0fb3417f338089dd844437229eb8:-1337857897,5b5bc7b3a47f338031fc8e480aa31d61:-1759560861,041bc7b33d7f3380e957de0dc67f745e:-565726358,c6ea4b73a37f3380a6be0fe4ba2290fa:-1308303484,6cd94b739c7f3380486056d8f200bbf6:513104063,568807bb613f3380ad8de264453b9f79:2012004590,d6484f3fd43f33802ff0ffe479ef6b6e:-2096319374,6757837f3c3f33808c89c0711d335376:-255243027,f0e98dffd67f37401510f43fee135fac:-332927002,17890933d4bf3740730df3323cdc4958:1585660842,fc490933dabf3740c70dbb23617a8254:385410774,4c2989ff5b7f374044aa82d9d7e0b89a:-2131708398,2368017b007f37401ff5522088731ff5:1608368136,1908017b807f3740bae5b3a937310ff1:-1716776845,8f82017b567f37400da5f9306d53fceb:780071620,673f7877ef7f374050eaf9c273b2fe48:-1180207760,96aefc733f7f37407ed00ccf370a8f82:780071620,43eb7877df7f3740860204037a82df3e:-1373579598,c6dbb873a17f3740890178b049ea460f:1764565228,138afc73ab7f3740ebcb17b70599517e:-327142356,431ab8f3dd7f374085f630b399e3bfc9:-1373579598,cad9fc73d17f37406b043b90b18bc17a:-2143982386,d477787f3b3f3740ae7b885c7760e404:1797272663,2b46f8fb793f3740da9c678f581863d0:-1892932858,4cb570ffda3f37400beac3ee0772cd9f:106506698,1864383f8f3f3740c160508c7b8dc161:1468585698,fb41b0bbb63f37401365c183694c6253:-548235082,c7ff207b9f3f3740d52c44f1f49bb5c0:-1291752715,c89cc87ff6bb37406c3dd4d758c9cdf9:-743788318</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>m2m_sp_widget_dependency_4a5aa497db77f34090c6d6a75e961921</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_widget_dependency"><m2m_sp_widget_dependency action="INSERT_OR_UPDATE"><sp_dependency display_value="dialog-polyfill">2eaf31f30b301200b0b02c6317673a84</sp_dependency><sp_widget display_value="SC Order Guide Alt">0a5aa097db77f34090c6d6a75e961993</sp_widget><sys_class_name>m2m_sp_widget_dependency</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:08:01</sys_created_on><sys_id>4a5aa497db77f34090c6d6a75e961921</sys_id><sys_mod_count>0</sys_mod_count><sys_name>dialog-polyfill.Copy of SC Order Guide</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>m2m_sp_widget_dependency_4a5aa497db77f34090c6d6a75e961921</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:08:01</sys_updated_on></m2m_sp_widget_dependency></record_update>]]></payload>
<payload_hash>1781507813</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>ab862e00db10481090c6d6a75e9619a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170af830000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>dialog-polyfill.Copy of SC Order Guide</target_name>
<type>Widget Dependency</type>
<update_domain>global</update_domain>
<update_guid>825aa4977177f340b79e5275c3a08523</update_guid>
<update_guid_history>825aa4977177f340b79e5275c3a08523:1601756058,825aa4977177f340b79e5275c3a08523:1601756058</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_row_197de01bdb77f34090c6d6a75e9619cf</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_row"><sp_row action="INSERT_OR_UPDATE"><class_name/><order>1</order><sp_column/><sp_container display_value="SC Order Guide Alt - Container 1">20ece01bdb77f34090c6d6a75e9619cb</sp_container><sys_class_name>sp_row</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:21:37</sys_created_on><sys_id>197de01bdb77f34090c6d6a75e9619cf</sys_id><sys_mod_count>0</sys_mod_count><sys_name>1</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>sp_row_197de01bdb77f34090c6d6a75e9619cf</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:21:37</sys_updated_on></sp_row></record_update>]]></payload>
<payload_hash>1411653324</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>b3862e00db10481090c6d6a75e9619a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170b0240000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>1</target_name>
<type>Row</type>
<update_domain>global</update_domain>
<update_guid>957de81b8577f340d5a72744e2a79fc8</update_guid>
<update_guid_history>957de81b8577f340d5a72744e2a79fc8:1411653324</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_instance_f37de41bdb77f34090c6d6a75e961961</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_instance"><sp_instance action="INSERT_OR_UPDATE"><active>true</active><class_name/><color>default</color><css/><glyph/><id/><order>1</order><roles/><short_description/><size>md</size><sp_column display_value="1">917de81bdb77f34090c6d6a75e9619c9</sp_column><sp_widget display_value="SC Order Guide Alt">0a5aa097db77f34090c6d6a75e961993</sp_widget><sys_class_name>sp_instance</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:21:48</sys_created_on><sys_id>f37de41bdb77f34090c6d6a75e961961</sys_id><sys_mod_count>0</sys_mod_count><sys_name/><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>sp_instance_f37de41bdb77f34090c6d6a75e961961</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:21:48</sys_updated_on><title/><url/><widget_parameters/></sp_instance><sys_translated_text action="delete_multiple" query="documentkey=f37de41bdb77f34090c6d6a75e961961"/></record_update>]]></payload>
<payload_hash>-616889118</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>b7862e00db10481090c6d6a75e9619a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170b0330000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name/>
<type>Instance</type>
<update_domain>global</update_domain>
<update_guid>fb7de41b7477f3401acaa8d01e45b362</update_guid>
<update_guid_history>fb7de41b7477f3401acaa8d01e45b362:-616889118</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>m2m_sp_ng_pro_sp_widget_8e5aa497db77f34090c6d6a75e961925</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="m2m_sp_ng_pro_sp_widget"><m2m_sp_ng_pro_sp_widget action="INSERT_OR_UPDATE"><sp_angular_provider display_value="scToggleData">c045f99a0b67320014ea425663673a25</sp_angular_provider><sp_widget display_value="SC Order Guide Alt">0a5aa097db77f34090c6d6a75e961993</sp_widget><sys_class_name>m2m_sp_ng_pro_sp_widget</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:08:01</sys_created_on><sys_id>8e5aa497db77f34090c6d6a75e961925</sys_id><sys_mod_count>0</sys_mod_count><sys_name>scToggleData.Copy of SC Order Guide</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>m2m_sp_ng_pro_sp_widget_8e5aa497db77f34090c6d6a75e961925</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:08:01</sys_updated_on></m2m_sp_ng_pro_sp_widget></record_update>]]></payload>
<payload_hash>447171949</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>e7862e00db10481090c6d6a75e9619a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170af980000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>scToggleData.Copy of SC Order Guide</target_name>
<type>Angular Providers</type>
<update_domain>global</update_domain>
<update_guid>425aa4973777f3401b3a67f65c8d4c27</update_guid>
<update_guid_history>425aa4973777f3401b3a67f65c8d4c27:34324888,425aa4973777f3401b3a67f65c8d4c27:34324888</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_container_20ece01bdb77f34090c6d6a75e9619cb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_container"><sp_container action="INSERT_OR_UPDATE"><background_color/><background_image/><background_style>default</background_style><bootstrap_alt>false</bootstrap_alt><class_name/><container_class_name/><name>SC Order Guide Alt - Container 1</name><order>1</order><sp_page display_value="sc_order_guide_alt">28ece01bdb77f34090c6d6a75e9619c8</sp_page><subheader>false</subheader><sys_class_name>sp_container</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:19:07</sys_created_on><sys_id>20ece01bdb77f34090c6d6a75e9619cb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>SC Order Guide Alt - Container 1</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>sp_container_20ece01bdb77f34090c6d6a75e9619cb</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:19:07</sys_updated_on><title/><width>container</width></sp_container></record_update>]]></payload>
<payload_hash>382579131</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>f3862e00db10481090c6d6a75e9619a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170b0020000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>SC Order Guide Alt - Container 1</target_name>
<type>Container</type>
<update_domain>global</update_domain>
<update_guid>e0ece01b9a77f3404f39fe8ebf54accc</update_guid>
<update_guid_history>e0ece01b9a77f3404f39fe8ebf54accc:382579131</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</application>
<category>customer</category>
<comments/>
<name>sp_rel_widget_clone_825aa497db77f34090c6d6a75e961928</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_rel_widget_clone"><sp_rel_widget_clone action="INSERT_OR_UPDATE"><child display_value="SC Order Guide Alt">0a5aa097db77f34090c6d6a75e961993</child><cloned>2019-09-15 06:08:01</cloned><last_validated>2019-09-15 06:08:01</last_validated><parent display_value="SC Order Guide">480ca054db03320064301150f0b8f545</parent><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;sp_widget&gt;&lt;category&gt;sc&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function ($scope, $http, nowServer, $timeout, spUtil, spModal, i18n, $window, $location, spAriaUtil, nowAttachmentHandler, $log, $sce, $q, spAtf, spSCNavStateManager) {
	var c = this;
	$scope.guide_step = 0;
	$scope.m = $scope.data.msgs;
	$scope.evaluatingIncludes = false;
	
	$rootScope.$on('spModel.gForm.rendered', function() {
		$timeout(function() {
	spAtf.init().then(function(atf) {
		$scope._atf = atf;
		atf.expose('catalog_util', catalogUtil);
	});
		}, 10);
	});
	
	var catalogUtil = {
		updateGform: function() {
			var g_form = getCurrentGForm();
			if (g_form)
				$scope._atf.expose('g_form', spAtf.augmentForm(g_form));
		},
		
		addRow: function(fieldId, timeoutInMS) {
			var deferred = $q.defer();
			var g_form = getCurrentGForm();
			if (g_form) {
				if (timeoutInMS &lt;= 0)
					timeoutInMS = 1000;
				$scope.$broadcast("$sp.sc_multi_row.create_row", fieldId, g_form.getSysId());
				$scope.$on('spModel.gForm.initialized', function(e, gFormInstance) {
					if (gFormInstance.getSysId() == fieldId)
						deferred.resolve();
				});
				$timeout(function() {
					deferred.reject();
				}, timeoutInMS);
			}
			else
				deferred.reject();
			return deferred.promise;
		},
		
		navigateToStep: function(num, timeout) {
			var defer = $q.defer();
			var step = parseInt(num) - 1;
			if (Math.abs(step - $scope.guide_step) != 1) {
				defer.reject("Can't navigate to next step");
				return defer.promise;
			}
			if (step &gt; $scope.guide_step)
				$scope.goNext(timeout);
			else {
				$scope.goPrev();
				defer.resolve();
			}
			var cleanup = $scope.$on('$sp.service_catalog.form_submit_failed', function() {
					cleanup();
					defer.reject("Can't navigate to next step");
			});
			var cleanup1 = $scope.$on('$sp.service_catalog.form_submitted', function() {
				cleanup1();
				defer.resolve("Can navigate to next step");
			});
			return defer.promise;
		},
		
		validateIncludedList: function(list, stage) {
			var items = list.split(',').reduce(function(obj, item) {
				obj[item] = false;
				return obj;
			}, {});
			var included = stage == 1 ? $scope.includedItems : $scope.includedItems.filter(function(item) {
				return item.included == true;
			});
			if (Object.keys(items).length != included.length)
				return false;
			for (var i = 0; i &lt; included.length; i++)
				if (!items.hasOwnProperty(included[i].sys_id))
					return false;
			return true;
		},
		
		openItem: function(item, state, timeoutInMS) {
			if (timeoutInMS &lt;= 0)
				timeoutInMS = 10000;
			var defer = $q.defer();
			if (includedGformInstances[item]) {
				openItemHelper(item, state, defer);
			}
			$scope.$on('spModel.gForm.initialized', function(e, gFormInstance) {
				if (gFormInstance.getSysId() == item) {
					openItemHelper(item, state, defer);
				}
			});
			$timeout(function() {
				defer.reject();
			}, timeoutInMS);
			return defer.promise;
		},
		
		getPrice: function() {
			var res = {};
			var item = $scope.includedItems.find(function(itemData) {
				return itemData.isOpen == true;
			});
			if (item) {
				res.price = item.price;
				res.recurring_price = item.recurring_price;
				res.recurring_frequency = item.recurring_frequency;
			}
			return res;
		},
		
		getGuidePrice: function() {
			return $scope.price_display;
		},
	
		addToCart: function() {
			var defer = $q.defer();
			$scope.triggerAddToCart();
			if (!$scope.submitted)
				defer.reject("Can't submit form.");
			else
				defer.resolve();
			return defer.promise;
		},
		
		submitOrderGuide: function() {
			var defer = $q.defer();
			if ($scope.triggerSubmit()) {
				if ($scope.data.sys_properties.twostep &amp;&amp; $scope.data.sc_cat_item.request_method != "submit") {
					defer.resolve();
				}
				else{
					var cleanUp = $scope.$on('$sp.sc_order_guide.submitted', function(o, result) {
						$timeout(function() {
							cleanUp();
							result.single_step = true;
							defer.resolve(result);
						}, 10);
					});
				}
			}
			else
				defer.reject();
			return defer.promise;
		}
	};
	
	function getCurrentGForm() {
		if ($scope.guide_step == 0)
			return includedGformInstances[$scope.data.sc_cat_item.sys_id];
		else {
			var openItem = $scope.includedItems.find(function(item){
				return item.isOpen === true;
			});
			return includedGformInstances[openItem.sys_id];
		}
	}

	$scope.showItem = function(index) {
		if($scope.itemShown == index)
			$scope.itemShown = -1;
		else
			$scope.itemShown = index;
	}
	
	$scope.goPrev = function() {
		$scope.includedItems.forEach(function (item) {
			item.isOpen = false;
		})
		$scope.guide_step--;
		if($scope.guide_step==0)
			spSCNavStateManager.unregisterForms(Object.keys(includedGformInstances));
	}
	
	$scope.toggleItemState = function(item) {
		if(item.included) {
			$scope.totalIncluded--;
			angular.element('#item_details_' + item.sys_id).find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').attr('tabindex', -1);
		}
		else {
			$scope.totalIncluded++;
			angular.element('#item_details_' + item.sys_id).find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').removeAttr('tabindex');
		}
	}
	
	$scope.goNext = function(timeout) {
		var gForm;
		if($scope.guide_step == 0) {
			$scope.$evalAsync(function () {
				gForm = includedGformInstances[$scope.data.sys_id];
				if(gForm &amp;&amp; !gForm.submit()) {
					timeout = timeout || 2000;
					$timeout(function () {
						$scope.$broadcast('$sp.service_catalog.form_submit_failed', {action_name: 'submit'});
					}, timeout);
				}
			});
		}
		else if($scope.guide_step == 1) {
					$scope.$evalAsync(function () {
						for (var i = 0; i &lt; $scope.includedItems.length; i++) {
						if ($scope.includedItems[i].included) {
							var g_form = includedGformInstances[$scope.includedItems[i].sys_id];
							g_form.$private.processed = false;
							if (g_form &amp;&amp; !g_form.submit()) {
								timeout = timeout || 3000;
								$scope.includedItems[i].isOpen = true;
								$timeout(function () {
										$scope.$broadcast('$sp.service_catalog.form_submit_failed', {action_name: 'submit'});
										for (var i =0; i &lt; $scope.includedItems.length; i++) {
											var mandatory = $scope.includedItems[i]._mandatory;
											if (mandatory &amp;&amp; mandatory.length &gt; 0) {
													var elems = angular.element("[name*='" + mandatory[0].name + "']");
													if (elems &amp;&amp; elems.length &gt; 0) //set focus the first element
															elems[0].focus();
											}	
										}
									}, timeout);
								}
							}
				 	}
				});
			}
	}
	
	function processChooseOptions() {
		var canSubmit = true;
		
		for (var i = 0; i &lt; $scope.includedItems.length; i++) {
				if ($scope.includedItems[i].included) {
					var gForm = includedGformInstances[$scope.includedItems[i].sys_id];
					if (gForm &amp;&amp; !gForm.$private.processed) {
						canSubmit = false;
						break;
					}
				}
		}
		if(canSubmit) {
			evalGuidePrice();
			spSCNavStateManager.unregisterForms(Object.keys(includedGformInstances));
			$scope.$broadcast('$sp.service_catalog.form_submitted', {action_name: 'submit'});
			$scope.guide_step = 2;
		}
	}
  
	// Breadcrumbs
	if ($scope.data.sc_cat_item) {
		$scope.data.sc_cat_item.description = $sce.trustAsHtml($scope.data.sc_cat_item.description);
		if (!$scope.data.categories)
			$scope.data.categories = [];
		$scope.data.categories.forEach(function(category, index, categories){
			categories[index].url = category.url + '&amp;catalog_id=' + $scope.data.catalog_id;
		});
		if ($scope.data.categories.length &gt; 0) {
			$scope.data.categories.unshift({label: $scope.data.sc_catalog || $scope.page.title, url: '?id=' + $scope.data.sc_category_page});
			$scope.data.categories.push({label: $scope.data.sc_cat_item.name, url: '#'});
			if ($scope.data.all_catalog_msg) {
				$scope.data.categories.unshift({label: $scope.data.all_catalog_msg, url: '?id=' + $scope.data.sc_category_page + "&amp;catalog_id=-1"});
			}
		}
		else {
			$scope.data.categories.push({label: $scope.data.sc_cat_item.name, url: '#'});
		}
		
		$timeout(function() {
			$scope.$emit('sp.update.breadcrumbs', $scope.data.categories);
		});
		spUtil.setSearchPage('sc');
	} else {
		var notFoundBC = [{label: $scope.page.title, url: '?id=' + $scope.data.sc_catalog_page}];
		$timeout(function() {
			$scope.$emit('sp.update.breadcrumbs', notFoundBC);
		});
		spUtil.setSearchPage('sc');
	}
	
	if ($scope.data.sc_cat_item.request_method == "request")
		$scope.submitButtonMsg = $scope.m.requestMsg;
	else if ($scope.data.sc_cat_item.request_method == "submit")
		$scope.submitButtonMsg = $scope.m.submitMsg;
	else
		$scope.submitButtonMsg = $scope.m.orderNowMsg;

	function isValidItemGform(g_form) {
		if (g_form.getSysId() === $scope.data.sc_cat_item.sys_id)
			return true;
		if ($scope.includedItems)
			for (i in $scope.includedItems)
				if ($scope.includedItems[i].sys_id === g_form.getSysId())
					return true;
		return false;
	}

	var includedGformInstances = {};
	$scope.$on('spModel.gForm.initialized', function(e, gFormInstance) {
		if (!isValidItemGform(gFormInstance))
			return;
		includedGformInstances[gFormInstance.getSysId()] = gFormInstance;
		spSCNavStateManager.register(gFormInstance);
		gFormInstance.$private.events.on('submitted', function(event) {
				gFormInstance.$private.processed = true;
				if (gFormInstance.getSysId() == $scope.data.sc_cat_item.sys_id) {
					$scope.$broadcast('$sp.service_catalog.form_submitted', {action_name: 'submit'});
					evalIncludes();
					spSCNavStateManager.unregisterForms(Object.keys(includedGformInstances));
					$scope.guide_step = 1;
					$scope.itemShown = 0;
				}
				else
					processChooseOptions();
		});
		
		$timeout(function() {
			$rootScope.$emit('spModel.gForm.rendered');
		}, 175);
	});
	
	$scope.$on('spModel.gForm.destroyed', function(e, sys_id){
		delete includedGformInstances[sys_id];
	});
	
	function openItemHelper(item, state, defer) {
		for (var i = 0; i &lt; $scope.includedItems.length; i++)
			if ($scope.includedItems[i].sys_id == item) {
				$scope.includedItems[i].included = state == 'true';
				$scope.includedItems[i].isOpen = true;
				$scope._atf.expose('g_form', spAtf.augmentForm(includedGformInstances[item]));
				defer.resolve();
			}
	}
	
	function getFieldsData(item) {
		var fieldData = {"variables":{}};
		for(var field in item._fields) {
			var fieldValue = "";
			if (item._fields[field].value != null &amp;&amp; typeof item._fields[field].value != "string")
				fieldValue = JSON.stringify(item._fields[field].value);
			else
				fieldValue = item._fields[field].value;
			fieldData.variables[item._fields[field].name] = fieldValue;
				
		}
		return fieldData;
	}
	
	function getGuideItems(cartname) {
		var items = [];
		var item;
		for(var i = 0; i &lt; $scope.includedItems.length; i++) {
			if($scope.includedItems[i].included) {
				item = getFieldsData($scope.includedItems[i]);
				item.sysparm_id = item.sysparm_active = $scope.includedItems[i].sys_id;
				item.sysparm_quantity = $scope.includedItems[i].quantity;
				item.sysparm_cart_name = cartname;
				item.sysparm_item_guid = $scope.includedItems[i].sysparm_item_guid;
				items.push(item);
			}
		}
		return items;
	}
	$scope.triggerAddToCart = function() {
		if($scope.submitted)
			return;
		$scope.server.get({
			action: 'log_request',
			itemDetails: {sys_id: $scope.data.sc_cat_item.sys_id, 
										name: $scope.data.sc_cat_item.name,
										sys_class_name: $scope.data.sc_cat_item.sys_class_name}
		});
		$scope.submitted = true;
		$scope.server.get({
			action: "add_to_cart",
			items: getGuideItems(""),
			sys_id: $scope.data.sys_id
		}).then(function(response) {
			$rootScope.$broadcast("$sp.service_catalog.cart.add_item");
			$rootScope.$broadcast("$sp.service_catalog.cart.update");
			$scope.$emit("$sp.sc_order_guide.add_to_cart");
			
			spModal.open({
					message: i18n.getMessage('Items have been added successfully'),
					size: 'sm',
				  backdrop: 'static',
					keyboard: false,
				  noDismiss: true,
					buttons: [
							{label: i18n.getMessage('Catalog Home'), cancel:true},
							{label: i18n.getMessage('View Cart'), primary:true}
						]
			}).then(function() {
					$location.search("id=sc_cart");
				}, function() {
					$location.search("id=sc_home");
				})
			
		});
	}
	// order / create request
	$scope.triggerSubmit = function() {
		if ($scope.submitted)
			return;
		if ($scope.options.isServiceWorkspace &amp;&amp; $window.frameElement) {
			var workspaceParams = {};
			workspaceParams.sysparm_parent_table = $window.frameElement.getAttribute('parent-table');
			workspaceParams.sysparm_parent_sys_id = $window.frameElement.getAttribute('parent-sys-id');
			$scope.data.workspaceParams = workspaceParams;
		}
		$scope.server.get({
			action: 'log_request',
			itemDetails: {sys_id: $scope.data.sc_cat_item.sys_id, 
										name: $scope.data.sc_cat_item.name,
										sys_class_name: $scope.data.sc_cat_item.sys_class_name}
		});
		$scope.submitted = true;
		var hasItems = $scope.includedItems.filter(function(item) {
			return item.sys_class_name != 'sc_cat_item_producer';
		}).length &gt; 0;
		
		if ($scope.data.sys_properties.twostep &amp;&amp; $scope.data.sc_cat_item.request_method != "submit") {
				//Required to pass as payload for usage as embeddedWidget
				var embeddedWidgetOptions = {
					"auto_redirect" : "true",
					"requested_for_id" : "",
					"requested_for_display" : ""
				};
				var payload = {
					cart: '' + $scope.data.sys_id,
					itemDetails: {
						items: getGuideItems('' + $scope.data.sys_id),
						request_method: $scope.data.sc_cat_item.request_method
					},
					workspaceParams: $scope.data.workspaceParams,
					action: "order_guide"
				};
				for (var embeddedOption in embeddedWidgetOptions) {
					payload[embeddedOption] = c.options[embeddedOption] || embeddedWidgetOptions[embeddedOption];
				}
				$scope.server.get(payload).then(function(response) {
					var orderGuideModalCtrl;
					var unregister = $scope.$on('$sp.service_catalog.cart.cancel_order', function(){
						orderGuideModalCtrl.close();
						$scope.submitted = false;
					});
					var closeModalOnSubmit = $scope.$on("$sp.service_catalog.cart.submitted", function () {
						orderGuideModalCtrl.close();
						$scope.submitted = true;
					});
					var orderGuideModal = angular.copy(response.data.orderGuideModal);
					orderGuideModal.options.afterOpen = function(ctrl){
						orderGuideModalCtrl = ctrl;
					};
					orderGuideModal.options.afterClose = function() {
						unregister();
						closeModalOnSubmit();
						$scope.orderGuideModal = null;
						orderGuideModalCtrl = null;
					};
					$scope.orderGuideModal = orderGuideModal;
				});
			return $scope.submitted;
		} else {
			$scope.data.action = 'checkout_guide';
			$scope.data.guideItems = getGuideItems('' + $scope.data.sys_id);
			$scope.server.update().then(function(response) {
				$scope.data.action = undefined;
				$scope.data.guideItems = undefined;
				$scope.$emit("$sp.sc_order_guide.submitted", $scope.data.result);
				$scope.submitted = true;
				if ($scope.options.auto_redirect == 'false') {
					spUtil.addInfoMessage($scope.m.requestSubmitted);
					return;
				}
				else {
					if ($scope.data.result.request_id) 
						$location.search('id=sc_request&amp;is_new_order=true&amp;table=sc_request&amp;sys_id=' + $scope.data.result.request_id);
					else 
						$location.search('id=requests');
					
				}
			});
		return $scope.submitted;
		}
	}
	function evalGuidePrice() {
		$scope.price = 0;
		var frequencyMap = {};
		for (var i = 0; i &lt; $scope.includedItems.length; i++) {
			if ($scope.includedItems[i].included &amp;&amp; $scope.includedItems[i].process_price) { 
				var qty = parseInt($scope.includedItems[i].quantity);
				var pricing = $scope.includedItems[i]._pricing;
				var effectivePrice = 0;
				var effectiveRecurringPrice = 0;
				if (typeof $scope.includedItems[i].price != "undefined") {
					effectivePrice = $scope.includedItems[i].price;
				}
				if (typeof $scope.includedItems[i].recurring_price != "undefined") {
					effectiveRecurringPrice = $scope.includedItems[i].recurring_price;
				}

				if (effectiveRecurringPrice &gt;= 0 &amp;&amp; pricing.rfd) {
					if(frequencyMap[pricing.rfd])
						frequencyMap[pricing.rfd] += effectiveRecurringPrice * qty;
					else
						frequencyMap[pricing.rfd] = effectiveRecurringPrice * qty;
				}
				if (effectivePrice &gt;= 0)
					$scope.price += effectivePrice * qty;
			}
		}
		frequencyMap.price = $scope.price;
		$scope.server.get({
			action: "format_prices",
			prices: frequencyMap
		}).then(function(response) {
			$scope.frequencySequence = response.data.frequencySequence;
			$scope.price_display = response.data.frequencyMap.price;
			$scope.frequencyMap = response.data.frequencyMap;
		});
	}
	
	function evalIncludes() {
		// don't allow submit while waiting on included items eval
		$scope.evaluatingIncludes = true;
		$scope.includedItems = [];
		var guideData = getFieldsData($scope.data.sc_cat_item);
		guideData.sysparm_id = $scope.data.sys_id;
		guideData.without_cart = true;
		guideData._fields = $scope.data.sc_cat_item._fields;
		guideData.cascade = $scope.data.sc_cat_item.cascade;
		$scope.server.get({
			action: "init_guide",
			orderGuideData: guideData
		}).then(function(response) {
			$scope.includedItems = response.data.items;
			$scope.showIncludeToggle = response.data.showIncludeToggle;
			initAttachmentHandlers();
			$scope.includedItems.forEach(function(item) {
				item.description = $sce.trustAsHtml(item.description);
            });
			$scope.totalIncluded = $scope.includedItems.length;
			$scope.evaluatingIncludes = false;
		});
	}
	
	$scope.$on('dialog.upload_too_large.show', function(e){
		$log.error($scope.m.largeAttachmentMsg);
		spUtil.addErrorMessage($scope.m.largeAttachmentMsg);
	});
	
	$scope.initAttachmentCallbacks = function (itemIndex) {
		$scope.includedItems[itemIndex].attachmentHandler.setAttachments = function (attachments, action) {
			$scope.includedItems[itemIndex].attachments = attachments;
			if (action === "added") {
				$scope.includedItems[itemIndex].attachment_submitted = true;
			}
			if (action === "renamed")
				spAriaUtil.sendLiveMessage($scope.m.renameSuccessMsg);
			if (action === "deleted") {
				spAriaUtil.sendLiveMessage($scope.m.deleteSuccessMsg);
				if ($scope.includedItems[itemIndex].attachments.length == 0)
				$scope.includedItems[itemIndex].attachment_submitted = false;
			}
			spUtil.get($scope,{action: "from_attachment"});
		};
		
		$scope.includedItems[itemIndex].confirmDeleteAttachment = function(attachment) {
			spModal.confirm($scope.data.msgs.delete_attachment).then(function() {
				$scope.includedItems[itemIndex].attachmentHandler.deleteAttachment(attachment);
				$scope.setFocusToAttachmentButton();
			});
		}
	}
	
	function initAttachmentHandlers() {
			var setAttachments;
			var appendError = function (error) {
					spUtil.addErrorMessage(error.msg + error.fileName);
			};
			for (var i = 0; i &lt; $scope.includedItems.length; i++) {
				$scope.includedItems[i].attachmentHandler = new nowAttachmentHandler(setAttachments, appendError);
				$scope.includedItems[i].attachmentHandler.setParams($scope.includedItems[i].targetTable, $scope.includedItems[i].sysparm_item_guid, 1024 * 1024 * $scope.data.maxAttachmentSize);
			}
	}
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.empty-state-content {
  margin-top: 30px;

  h3 {
    margin-bottom: 5px;
    text-align: center;
  }
}

.attachment-label {
  float: right;
  font-weight: normal;
  cursor: pointer;
}

.guide-image {
  max-height: 240px;
  padding: 5px;
  display: inline;
}

.panel-button {
  float: none;
}

.file-list-wrap {
	margin-bottom: 10px;
}

.guide-item-image {
  max-height: 150px;
  padding: 10px;
  display: inline-block !important;
}

.item-icon {

}

.disabled-mask {
  background-color: #F8F9F9;
  position: absolute;
  z-index: 8;
  opacity: 0.6;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  border-radius: 5px;
  cursor: not-allowed;
}

.guide-description, .guide-nav, .tab-item, .og-timeline {
  overflow: auto;
}


.guide-nav {
  padding: 0px 40px 20px 40px;
}

.guide-nav-setp1 {
  padding-right: 27px;
}

.iconlink {
  margin: 5px 0px 5px 0px;
}

.circle_icon {
    border: 3px solid;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    padding: 20px;
    display: inline-block;
    .step-icon {
      font-size: 20px;
    	position: relative;
    	top: -9px;
    	left: -10px;
    }
}

.step-text {
  	position: relative;
    top: -10px;
}

.step_active {
  color: $primary;
}

.step_inactive {
  color: $text-muted;
  opacity: 0.5;
}

.accordion-header {
  .panel-heading {
    padding: 0;
    .row {
      padding: 15px;
      margin: 0;
    }
    .align-text {
      top: 3px;
    }
    &amp;amp;:hover {
    	background-color: lighten($primary, 45%);
  	}
  }
  &amp;amp;.panel-open {
    .panel-heading {
      border-bottom: 1px solid #dee5e7;
      &amp;amp;:hover {
    		background-color: transparent;
  		}
    }
  }
  .panel-title {
    	font-size: inherit;
  }
}

.list-group {
	padding-left: 28px;
  padding-right: 28px;
  padding-top: 10px;
  padding-bottom: 0px;
}

.accordion-icon {
  margin-left: 30px;
}


.mandatory-header {
  border-left: 3px #d9534f solid !important;
}

.mandatory-icon {
  color: #d9534f;
  margin-left: -9px
}

.timeline-container {
  position: sticky;
  position: -webkit-sticky;
  position: -ms-sticky;
  height:auto;
  top: -($font-size-h2 + $font-size-base + 48px);
  z-index: 10;
  background-color: inherit;
  border-radius: 4px 4px 0 0;
}

.og-timeline .iconlink label {
  font-weight: 600;
  font-size: 0.8em;
  line-height: 1.8em;
}

.include-loader {
  text-align: center;
  
}

.og-switch {
  .input-switch {
    font-size: inherit;
    label.switch {
      border-radius: 20px;
      &amp;amp;::before {
        border-radius: 20px;
      }
    }
    input[type=checkbox]:checked ~ .switch {
    	background-color: $primary; 
		}
  }
}

.summary {
  tr {
    height: 69px;
  }
  margin-bottom: 0;
  .summary-excluded {
    color: #ccc;
  }
  .not-included-pill {
    color: #FFF;
    background-color: #f0ad4e;
    border-radius: 20px;
    font-size: 11px;
    font-weight: bolder;
    white-space: nowrap;
  }
}

.m-r-6 {
  margin-right: 6px !important;
}

.wrap-word {
  word-break: break-word;
  hyphens: auto;
}

//animation

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
  animation: fa-spin 1s infinite steps(8);
}

.options {
  color: $primary;
}

@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
/* IE10+ CSS styles go here */
   .timeline-container {
   position: static;
   top: 0px;
   }
}
@media only screen and (max-width:992px) {
  .pull-left-xs {
    float: left !important;
  }
  
  .left-align-xs {
    text-align: left !important;
  }
  
  .padding-left-xs {
    padding-left:15px !important;
  }
  
  .iconlink {
    padding: 0 15px;
  }
  
  .wrapper-cart-xs {
    padding: 10px !important;
  }
  
  .not-included {
    padding: 3px !important;
  }
  
  .pull-right-xs {
    float: right !important;
  }
  
  .remove-margin-bottom-xs {
    margin-bottom: 0px !important;
  }
  
  .add-margin-bottom-xs {
    margin-bottom: 15px !important;
  }
  
  .list-group {
    padding-left: 13px !important;
    padding-right: 13px !important;
  }

  .border-top-xs {
    border-top: none;
  }
  
  .border-bottom-xs {
    border-bottom: none;
  }
  
  .button-image-xs {
    padding-left: 7%;
    line-height: 160%;
  }
  
  .guide-image {
    display: block;
    margin: auto;
    max-height: 220px
  }
  
  .og-switch {
    padding-top:10px;
    .input-switch {
      margin-left: 5px !important;
    }
    .input-switch input[type=checkbox]  ~ .switch {
       height: 20px;
       width: 35px
    }
    .input-switch input[type=checkbox]:checked  ~ .switch:before {
      left: 15.5px;
    }
   }
  .summary {
     tr {
         height: 33px;
      }
    .summary-excluded {
    	color: inherit;
  	}
  }
  .timeline-container {
    top: -($font-size-h2 + $font-size-base + 28px);
  }
  .guide-nav-setp1 {
    padding: 0 13px 20px 13px;
  }
	.timeline-container {
     position: inherit;
  }
  .included-xs {
    font-size:13px; 
    vertical-align:3px;
  }
  .panel-body {
    padding: 0;
  }
  .guide-item-image-xs {
    max-height: 120px;
  	padding: 10px;
    float: left;
  }
  .guide-description {
    display: inline;
  }
  .read-more, .read-less {
    font-size: 15px;
    cursor: pointer;
  }
  .more-text {
    display: none;
  }
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list&gt;color,title&lt;/field_list&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;widget-sc-order-guide-v2&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link&gt;&lt;![CDATA[function(scope, elem) {
		scope.setFocusToAttachmentButton = function () {
			elem.find('.sp-attachment-add')[0].focus();
		}
	}
	]]&gt;&lt;/link&gt;&lt;name&gt;SC Order Guide&lt;/name&gt;&lt;option_schema&gt;[{"hint":"This property will 'show less' description of order guide with an option of 'read more' to read full description.","name":"show_less_orderguide","default_value":"true","section":"Presentation","label":"Enable Show More/Less for Order Guide description on Mobile","type":"boolean"},{"hint":"Show the widget in compact mode","name":"compact_mode","section":"Presentation","default_value":"false","label":"Compact Mode","type":"boolean"},{"hint":"Hide Delivery Time in each Item","name":"hide_delivery_time","section":"Presentation","default_value":"false","label":"Hide Delivery Time","type":"boolean"},{"hint":"Show the add to cart button","name":"show_add_cart_button","section":"Behavior","default_value":"true","label":"Show Add to Cart","type":"boolean"}]&lt;/option_schema&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function () {
	var guideJS;
	if (input &amp;&amp; input.action == "from_attachment")
		return;

	data.sys_id = $sp.getParameter("sys_id");
	['auto_redirect', 'requested_for_id', 'requested_for_display'].forEach(function (embeddedWidgetOption) {
		if (input &amp;&amp; typeof input[embeddedWidgetOption] != 'undefined')
			options[embeddedWidgetOption] = input[embeddedWidgetOption];
	});
	
	if(input &amp;&amp; input.action == 'order_guide') {
		data.orderGuideModal = $sp.getWidget('widget-modal', {
																											embeddedWidgetId: 'sc-checkout', 
																											embeddedWidgetOptions: {
																																	cart: {name: input.cart}, 
																																	action: input.action, 
																																	item: input.itemDetails, 
																																	requested_for: {id:options.requested_for_id, displayValue:options.requested_for_display}, 
																																	auto_redirect: options.auto_redirect,
																																	parentParams: input.workspaceParams
																																}, 
																											backdrop: 'static', 
																											keyboard: false, 
																											size: 'md'
																								});
		return;
	}
	else if (input &amp;&amp; input.action === 'log_request') {
		 $sp.logStat('Cat Item Request', input.itemDetails.sys_class_name, input.itemDetails.sys_id, input.itemDetails.name);
		 return;
	}
	else if(input &amp;&amp; input.action == "init_guide") {
		var orderGuideData = input.orderGuideData;
		guideJS = new sn_sc.OrderGuide('' + orderGuideData.sysparm_id);
		var temp = guideJS.init(orderGuideData);
		data.showIncludeToggle = guideJS.isIncludeItems();
		data.items = [];
		var item;
		for(var i = 0; i &lt; temp.items.length; i++) {
			var catItem = new sn_sc.CatItem('' + temp.items[i].sys_id);
			if(!catItem.canView() || !catItem.isVisibleServicePortal())
				continue;
			var itemData = {
				'sys_id': temp.items[i].sys_id, 
				'table': 'sc_cat_item', 
				'quantity': temp.items[i].quantity, 
				'is_guide': true, 
				'is_ordering': true,
				'variables' : {}
			};
			if (orderGuideData.cascade) {
				for (var gf in orderGuideData._fields) {
					var field = orderGuideData._fields[gf];
					itemData.variables[field.name] = field.value;	
				}
			}
			item = $sp.getCatalogItem(itemData);
			item.quantity = temp.items[i].quantity;
			item.show_quantity = temp.items[i].show_quantity;
			item.isOrderGuideItem = true;
			item.included = true;
			item.sysparm_item_guid = gs.generateGUID();
			item._attachmentGUID = item.sysparm_item_guid;
			item.order = parseInt(temp.items[i].order);
			
			var table_name = 'sc_cart_item';
			var className = item.sys_class_name;
			if (!new global.CatalogItemTypeProcessor().canCreateNormalCartItem(className)) {
				if (className == 'sc_cat_item_producer') {
					var gr = new GlideRecord('sc_cat_item_producer');
					if (gr.get(item.sys_id))
						table_name = gr.getValue('table_name');
				}
			}
			item.targetTable = table_name;
			if (orderGuideData.cascade) {
				for (var field in item._fields) {
					var f = item._fields[field];
					for (var gf in orderGuideData._fields) {
						if (orderGuideData._fields[gf].name === f.name) {
							f.value = orderGuideData._fields[gf].value;
							f.displayValue = orderGuideData._fields[gf].displayValue;
							f.display_value_list = orderGuideData._fields[gf].display_value_list;
							break;
						}
					}
				}
			}
			if (temp.variable_assignments[item.sys_id]) {
				var cur = temp.variable_assignments[item.sys_id];
				for (var fieldId in cur) {
					var q = GlideappQuestion.getQuestion(fieldId);
					item._fields[q.getName()].value = cur[fieldId];
					
					if (q.getType() == 21 || q.getType() == 8) {
						q.setValue(cur[fieldId]);
						if (q.getType() == 21) {
							var vals = '' + q.getDisplayValues();
							vals = vals.slice(1, -1);
							item._fields[q.getName()].display_value_list = vals.split(', ');
						}
					}
					item._fields[q.getName()].displayValue = q.getDisplayValue();
				}
			}
			data.items.push(item);
		}
		return;
	}
	else if(input &amp;&amp; input.action == "checkout_guide") {
		guideJS = new sn_sc.OrderGuide('' + data.sys_id);
		var cartJS = new sn_sc.CartJS('' + data.sys_id);
		for(var i = 0; i &lt; input.guideItems.length; i++)
			guideJS.navigateFromMap(input.guideItems[i]);
		cartJS.activateGuide();
		cartJS.setParentParams(input.workspaceParams);
		data.result = cartJS.checkoutGuide();
		return;
	}
	else if(input &amp;&amp; input.action == "add_to_cart") {
		var cart = new sn_sc.CartJS();
		guideJS = new sn_sc.OrderGuide('' + input.sys_id);
		for(var i = 0; i &lt; input.items.length; i++) {
			input.items[i].sysparm_cart_name = "";
			guideJS.navigateFromMap(input.items[i]);
		}
		if (guideJS.isUseCustomCart())
			new sn_sc.CartJS(input.sys_id).empty("");
		cart.activateGuide();
		return;
	}
	else if(input &amp;&amp; input.action == "format_prices") {
		data.frequencySequence = [];
		var gr = new GlideRecord('sys_choice');
		gr.addQuery('name', 'sys_frequency');
		gr.orderBy('sequence');
		gr.query();
		while(gr.next())
			data.frequencySequence.push(gr.label.getDisplayValue());
		var spCurrencyFormatter = new SPCurrencyFormatter();
		data.frequencyMap = {};
		for(var key in input.prices)
			data.frequencyMap[key] = spCurrencyFormatter.format(input.prices[key]);
		return;
	}
	
	// portal can specify a catalog and category home page
	data.sc_catalog_page = $sp.getDisplayValue("sc_catalog_page") || "sc_home";
	data.sc_category_page = $sp.getDisplayValue("sc_category_page") || "sc_category";
	var catalogID = $sp.getParameter("catalog_id") ? $sp.getParameter("catalog_id") + "" : "-1";
	var m = data.msgs = {};
	m.scHomeMsg = gs.getMessage("Service Catalog");
	m.step1 = gs.getMessage("Describe Needs");
	m.step2 = gs.getMessage("Choose Options");
	m.step3 = gs.getMessage("Summary");
	m.prevMsg = gs.getMessage("Previous");
	m.nextMsg = gs.getMessage("Next");
	m.submitMsg = gs.getMessage("Submit");
	m.orderNowMsg = gs.getMessage("Order Now");
	m.requestMsg = gs.getMessage("Request");
	m.submittedMsg = gs.getMessage("Submitted");
	m.createdMsg = gs.getMessage("Created");
	m.clickMsg = gs.getMessage("click here to view");
	m.dialogTitle = gs.getMessage("Delete Attachment");
	m.dialogMessage = gs.getMessage("Are you sure?");
	m.dialogOK = gs.getMessage("OK");
	m.dialogCancel = gs.getMessage("Cancel");
	m.viewAttachedImage = gs.getMessage("View attached image");
	m.downloadAttachment = gs.getMessage("Download attachment");
	data.maxAttachmentSize = parseInt(gs.getProperty("com.glide.attachment.max_size", 1024));
	if (isNaN(data.maxAttachmentSize))
		data.maxAttachmentSize = 24;
	m.largeAttachmentMsg = gs.getMessage("Attached files must be smaller than {0} - please try again", "" + data.maxAttachmentSize + "MB");
	m.renameSuccessMsg = gs.getMessage("Attachment renamed successfully");
	m.deleteSuccessMsg = gs.getMessage("Attachment deleted successfully");
	m.invalidRecordMsg = gs.getMessage('You are either not authorized or record is not valid.');
	m.delete_attachment = gs.getMessage("Delete Attachment?");
	
	data.hideDeliveryTime = (options.hide_delivery_time == 'true');
	if (options.sys_id)
		data.sys_id = options.sys_id;
	if (!data.sys_id)
		return;
	var validatedItem = new sn_sc.CatItem('' + data.sys_id);
  if (!validatedItem.canView())
    return;
	data.sys_properties = {
		twostep: gs.getProperty("glide.sc.sp.twostep", "true") == 'true'
	};
	data.showPrices = $sp.showCatalogPrices();
  data.sc_cat_item = $sp.getGuide(data.sys_id, true, false);
	data.recordFound = true;
	if (data.sc_cat_item.category) {
		var categoryJS;
		var categoryID = validatedItem.getFirstAccessibleCategoryForSearch((catalogID &amp;&amp; catalogID != "-1" ? catalogID : $sp.getCatalogs().value + ""));
		if (GlideStringUtil.isEligibleSysID($sp.getParameter("sysparm_category"))) {
			categoryJS = new sn_sc.CatCategory($sp.getParameter("sysparm_category") + "");
			categoryID = $sp.getParameter("sysparm_category") + "";
		}
		else if (categoryID)
			categoryJS = new sn_sc.CatCategory(categoryID);
		
		if (categoryJS &amp;&amp; GlideStringUtil.isEligibleSysID(categoryJS.getID())) {
			data.category = {
				name: categoryJS.getTitle(),
				url: '?id=' + data.sc_category_page + '&amp;sys_id=' + categoryID
			}
			if (categoryJS.getCatalog()) {
				catalogID = categoryJS.getCatalog();
				data.catalog_id = catalogID;
				var catalogObj = new sn_sc.Catalog(catalogID);
				data.sc_catalog = catalogObj.getTitle();
			}
			
			data.categories = [];
			data.categories.push({
				label: categoryJS.getTitle(),
				url: '?id=' + data.sc_category_page + '&amp;sys_id=' + categoryID
			});
			while(categoryJS &amp;&amp; categoryJS.getParent()) {
				var parentId =  categoryJS.getParent();
				categoryJS = new sn_sc.CatCategory(parentId);
				var category = {
					label: categoryJS.getTitle(),
					url: '?id=' + data.sc_category_page + '&amp;sys_id=' + parentId
				};
				data.categories.unshift(category);
			}
			if ((($sp.getCatalogs().value + "").split(",")).length &gt; 1) {
				data.all_catalog_msg = gs.getMessage("All Catalogs");
			}
		}
	}
	$sp.logStat('Cat Item View', data.sc_cat_item.sys_class_name, data.sc_cat_item.sys_id, data.sc_cat_item.name);
})()]]&gt;&lt;/script&gt;&lt;servicenow&gt;true&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2016-08-26 21:56:02&lt;/sys_created_on&gt;&lt;sys_id&gt;480ca054db03320064301150f0b8f545&lt;/sys_id&gt;&lt;sys_mod_count&gt;703&lt;/sys_mod_count&gt;&lt;sys_name&gt;SC Order Guide&lt;/sys_name&gt;&lt;sys_package display_value="Service Portal - Service Catalog (do not activate...see plugin description)" source="com.glide.service-portal.service-catalog"&gt;c360a563dbc323003a50de01ce961961&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_480ca054db03320064301150f0b8f545&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-12-14 13:45:07&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div class="" sn-atf-blacklist="IS_SERVICE_CATALOG"&gt;
  &lt;sp-widget widget="orderGuideModal" ng-if="orderGuideModal"&gt;&lt;/sp-widget&gt;
	&lt;div ng-if="::data.sc_cat_item" class="row"&gt;
		&lt;div class="col-sm-12"&gt;
			&lt;div class="panel panel-default"&gt;
				&lt;div class="timeline-container b-b"&gt;
					&lt;div class="wrapper-md break-word"&gt;
						&lt;h1 class="h2 m-n font-thin" ng-if="::data.sc_cat_item.name"&gt;{{::data.sc_cat_item.name}}&lt;/h1&gt;
             &lt;div class="text-muted hidden-xs hidden-sm" ng-if="::data.sc_cat_item.short_description"&gt;{{::data.sc_cat_item.short_description}}&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class="wrapper-xs og-timeline b-t"&gt;
						&lt;div class="iconlink col-sm-4 text-a-l pull-left-xs padding-left-xs" ng-class = "{'hidden-xs hidden-sm' : guide_step != 0, 'hidden-lg hidden-md' : options.compact_mode == 'true' &amp;&amp; guide_step != 0, 'col-sm-6' : options.compact_mode == 'true' &amp;&amp; guide_step == 0}" style="padding-left:61px"&gt;
							&lt;div class="circle_icon" ng-class="guide_step == 0 ? 'step_active' : 'step_inactive'"&gt;
                &lt;i class="fa fa-edit step-icon" style="left: -8px;"/&gt;
              &lt;/div&gt;
							&lt;span class="text-muted m-l-sm step-text"&gt;{{m.step1}}&lt;/span&gt;
						&lt;/div&gt;
						&lt;div class="iconlink col-sm-4 text-a-c pull-left-xs left-align-xs" ng-class = "{'hidden-xs hidden-sm' : guide_step != 1 , 'hidden-lg hidden-md' : options.compact_mode == 'true' &amp;&amp; guide_step != 1, 'col-sm-6' : options.compact_mode == 'true' &amp;&amp; guide_step == 1}"&gt;
              &lt;div class="circle_icon" ng-class="guide_step == 1 ? 'step_active' : 'step_inactive'"&gt;
                &lt;i class="fa fa-list step-icon"/&gt;
              &lt;/div&gt;
							&lt;span class="text-muted m-l-sm step-text"&gt;{{m.step2}}&lt;/span&gt;
						&lt;/div&gt;
						&lt;div class="iconlink col-sm-4 text-a-r pull-left-xs left-align-xs" ng-class = "{'hidden-xs hidden-sm' : guide_step != 2 , 'hidden-lg hidden-md' : options.compact_mode == 'true' &amp;&amp; guide_step != 2, 'col-sm-6' : options.compact_mode == 'true' &amp;&amp; guide_step == 2}" style="padding-right:61px"&gt;
              &lt;div class="circle_icon" ng-class="guide_step == 2 ? 'step_active' : 'step_inactive'"&gt;
                &lt;i class="fa fa-check step-icon" style="top: -10px;left: -9px;"/&gt;
              &lt;/div&gt;
							&lt;span class="text-muted m-l-sm step-text"&gt;{{m.step3}}&lt;/span&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class="padder-md padder-t-md" ng-if="guide_step == 0"&gt;
          &lt;div class="row"&gt;
            &lt;div ng-if="::data.sc_cat_item.picture" class="col-xs-12 col-sm-12 col-md-3 col-lg-3"&gt;
              &lt;img class="img-responsive catalog-item-image guide-image" ng-src="{{::data.sc_cat_item.picture}}?t=medium" /&gt;
            &lt;/div&gt;
            &lt;div ng-if="data.sc_cat_item.description" class="col-xs-12 col-sm-12 col-md-9 col-lg-9 break-word"&gt;
              &lt;div class="col-md-9 col-lg-9 visible-md visible-lg" ng-class="{false : 'visible-xs visible-sm', true : 'hidden-xs hidden-sm'}[options.show_less_orderguide === 'true']"&gt;	
              	&lt;div class="m-t guide-description" ng-bind-html="::data.sc_cat_item.description"&gt;&lt;/div&gt;
              &lt;/div&gt;
              &lt;div class="visible-xs visible-sm col-xs-12 col-sm-12" ng-if="::(options.show_less_orderguide === 'true')"&gt;
            		&lt;sc-toggle-data sn-data="::data.sc_cat_item.description"&gt;&lt;/sc-toggle-data&gt;
            	&lt;/div&gt;
            &lt;/div&gt;
	        &lt;/div&gt;
					&lt;div class="wrapper-md" ng-class="data.sc_cat_item.picture || data.sc_cat_item.description ? 'b-t' : ''"&gt;
						&lt;sp-model form-model="data.sc_cat_item" mandatory="data.sc_cat_item._mandatory"&gt;&lt;/sp-model&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div ng-if="guide_step == 1"&gt;
          &lt;div ng-if="evaluatingIncludes" class="include-loader"&gt;
            &lt;i class="fa fa-spinner fa-pulse fa-3x fa-fw"&gt;&lt;/i&gt;
						&lt;span class="sr-only"&gt;${Loading...}&lt;/span&gt;
          &lt;/div&gt;
					&lt;div class="remove-margin-bottom-xs" ng-if="includedItems.length"&gt;
						&lt;div class="list-group"&gt;
            &lt;div class="pull-right text-xs"&gt;&lt;i class="fa fa-asterisk mandatory"&gt;&lt;/i&gt; &lt;span class="text-muted"&gt;${Mandatory Fields}&lt;/span&gt;&lt;/div&gt;
						&lt;div class="m-b-lg font-bold"&gt;${Included Items : }&lt;/div&gt;
             &lt;uib-accordion close-others="true"&gt;
							&lt;uib-accordion-group class="accordion-header b" template-url="group-template.html" ng-init="initAttachmentCallbacks($index);" ng-repeat="item in includedItems track by item.sys_id | orderBy: 'order'" id="{{::item.sys_id}}" is-open="item.isOpen"&gt;
                &lt;uib-accordion-heading&gt;
									&lt;div class="row"&gt;
                    &lt;div class="col-md-3 col-lg-3 col-xs-12 col-sm-12 font-bold align-text" id="item_name_{{::item.sys_id}}"&gt;
                      &lt;img ng-if="::item.icon" ng-src="{{::item.icon}}" class="item-icon pad-right hidden-xs hidden-sm"/&gt;
                      &lt;span aria-role="heading" aria-level="3" class="break-word"&gt;{{::item.name}}&lt;/span&gt;
                      &lt;span class="fa accordion-icon pull-right-xs hidden-md hidden-lg" ng-class="item.isOpen ? 'fa-chevron-up' : 'fa-chevron-down'" title="{{item.isOpen ?'${Collapse}':'${Expand}'}}" aria-hidden="true"&gt;&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div class="col-md-6 col-lg-6 hidden-xs hidden-sm align-text break-word" aria-hidden="true"&gt;
                      {{::item.short_description}}
                    &lt;/div&gt;
                    &lt;div class="col-md-3 col-lg-3 col-xs-12 col-sm-12 og-switch text-a-r pull-left-xs left-align-xs align-text"&gt; 
                     &lt;span class="hidden-sm hidden-xs pull-left options" ng-if="::item._sections.length &gt; 0 || item.mandatory_attachment"&gt; 
                       &lt;i class="fa fa-asterisk mandatory" ng-if="(item._mandatory.length ||  (item.mandatory_attachment &amp;&amp; !item.attachment_submitted)) &amp;&amp; item.included"&gt;&lt;/i&gt;
                       &lt;i class="m-l-sm" ng-if="!(item._mandatory.length ||  (item.mandatory_attachment &amp;&amp; !item.attachment_submitted)) || !item.included"&gt;&lt;/i&gt;
                       ${Options}
                      &lt;/span&gt;
                    	&lt;div class="inline" ng-if="::showIncludeToggle"&gt;	
                        &lt;div class="input-switch inline v-middle m-l" ng-click="$event.stopPropagation()" uib-tooltip="{{item.included ? '${Included}' : '${Not Included}'}}" tooltip-placement="top" tooltip-append-to-body="true" role="none"&gt;
                          &lt;input type="checkbox"
                              ng-model="item.included"
                              tabindex="0"
                              aria-label="${Included}"
                              id="enable_switch_{{::item.sys_id}}"  /&gt;
                          &lt;label class="switch" for="enable_switch_{{::item.sys_id}}" ng-click="toggleItemState(item)"&gt;&lt;/label&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                      &lt;span class="visible-sm-inline-block visible-xs-inline-block options m-l-lg" ng-if="::item._sections.length &gt; 0 || item.mandatory_attachment"&gt; 
                       &lt;i class="fa fa-asterisk mandatory" ng-if="(item._mandatory.length ||  (item.mandatory_attachment &amp;&amp; !item.attachment_submitted)) &amp;&amp; item.included"&gt;&lt;/i&gt;
                       &lt;i class="m-l-sm" ng-if="!(item._mandatory.length ||  (item.mandatory_attachment &amp;&amp; !item.attachment_submitted)) || !item.included"&gt;&lt;/i&gt;
                       ${Options}
                      &lt;/span&gt;
	                    &lt;span class="fa accordion-icon hidden-xs hidden-sm" ng-class="item.isOpen ? 'fa-chevron-up' : 'fa-chevron-down'" title="{{item.isOpen ?'${Collapse}':'${Expand}'}}" aria-hidden="true"&gt;&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/uib-accordion-heading&gt;
								&lt;div id="item_details_{{::item.sys_id}}" role="region" aria-labelledby="{{::item.sys_id}}" sp-pause-child-watchers-if-hidden&gt;
                  &lt;div class="wrapper" style="position: relative; background-color: #F8F9F9;"&gt;
                    &lt;div class="panel-body"&gt;
                      &lt;div class="row m-b-lg"&gt;
                        &lt;div class="col-xs-12 col-sm-12 hidden-md hidden-lg padder-b break-word" aria-hidden="true"&gt;
                      		{{::item.short_description}}
                          &lt;div class="font-normal pull-right m-r-sm hidden-md hidden-lg"&gt;
                            &lt;span class="" ng-if="data.showPrices &amp;&amp; item.price"&gt;{{item.price_display}} {{item.recurring_price ? '+' : ''}}&lt;/span&gt; &lt;span class="" ng-if="data.showPrices &amp;&amp; item.recurring_price"&gt; {{item.recurring_price_display}} {{item.recurring_price_frequency}}&lt;/span&gt;
                            &lt;div class="" ng-if="!data.hideDeliveryTime &amp;&amp; item.sys_class_name != 'sc_cat_item_producer' &amp;&amp; item.sys_class_name != 'sc_cat_item_guide' &amp;&amp; (!item.no_delivery_time &amp;&amp; item.estimated_delivery_time)"&gt;{{::item.estimated_delivery_time}} ${Delivery}&lt;/div&gt;                          
                          &lt;/div&gt;
                    		&lt;/div&gt;
                        &lt;div class="col-lg-3 col-md-3 hidden-xs hidden-sm" ng-if="::item.picture"&gt;
                        	&lt;img ng-if="::item.picture" class="img-responsive catalog-item-image guide-item-image" ng-src="{{::item.picture}}" /&gt;  
                        &lt;/div&gt;
                        &lt;div class="col-lg-9 col-md-9 col-xs-12 col-sm-12"&gt;
                          &lt;div class="font-normal pull-right m-r-sm hidden-xs hidden-sm"&gt;
                            &lt;span class="" ng-if="data.showPrices &amp;&amp; item.price"&gt;{{item.price_display}} {{item.recurring_price ? '+' : ''}}&lt;/span&gt; &lt;span class="" ng-if="data.showPrices &amp;&amp; item.recurring_price"&gt; {{item.recurring_price_display}} {{item.recurring_price_frequency}}&lt;/span&gt;
                            &lt;div class="" ng-if="!data.hideDeliveryTime &amp;&amp; item.sys_class_name != 'sc_cat_item_producer' &amp;&amp; item.sys_class_name != 'sc_cat_item_guide' &amp;&amp; (!item.no_delivery_time &amp;&amp; item.estimated_delivery_time)"&gt;{{::item.estimated_delivery_time}} ${Delivery}&lt;/div&gt;
                          &lt;/div&gt;
                          &lt;img ng-if="::item.picture" class="img-responsive catalog-item-image guide-item-image-xs hidden-lg hidden-md" ng-src="{{::item.picture}}" /&gt;  
                        	&lt;div ng-if="::item.description" class="m-t guide-description clearfix visible-md visible-lg break-word" ng-bind-html="::item.description" ng-class="::{false : 'visible-xs visible-sm', true : 'hidden-xs hidden-sm'}[options.show_less_orderguide === 'true']"&gt;&lt;/div&gt;
                          	&lt;div class="visible-xs visible-sm break-word" ng-if="::(options.show_less_orderguide === 'true')"&gt;
            								&lt;sc-toggle-data sn-data="::item.description"&gt;&lt;/sc-toggle-data&gt;
            							&lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                        &lt;fieldset ng-class="{'disabled-mask': !item.included}"&gt;&lt;/fieldset&gt;
                        &lt;sp-cat-item item="item" /&gt;
                        &lt;sp-model form-model="item" mandatory="item._mandatory"&gt;&lt;/sp-model&gt;
                        &lt;div&gt;
                          &lt;div ng-if="item.attachments.length" class="file-list-wrap"&gt;
                            &lt;ul class="list-group" style="margin-bottom: 0; padding:0"&gt;
                              &lt;li class="list-group-item" ng-repeat="attachment in item.attachments"&gt;
                                &lt;div class="sp-attachment-block-single-line file-attachment row" id="{{::attachment.sys_id}}"&gt;
                                  &lt;a aria-label="{{::(attachment.thumbSrc ? m.viewAttachedImage : m.downloadAttachment)}}" tabindex="0" class="col-md-1 col-sm-1 col-xs-2 view-attachment m-b-none text-center" style="border: none;"
                                     ng-click="item.attachmentHandler.viewAttachment($event, attachment)" href="javascript:void(0)" title="View" &gt;
                                    &lt;img alt="" ng-if="attachment.thumbSrc" class="attachment-thumbnail img-responsive" ng-src="{{attachment.thumbSrc}}"/&gt;
                                    &lt;span ng-if="::!attachment.thumbSrc"&gt;
                                      &lt;span class="glyphicon glyphicon-file text-2x"/&gt;
                                    &lt;/span&gt;
                                  &lt;/a&gt;
                                  &lt;div class="col-md-9 col-sm-8 col-xs-7 file-name v-middle"&gt;
                                    &lt;a tabindex="0" class="get-attachment" ng-click="item.attachmentHandler.downloadAttachment(attachment)" ng-attr-title="${Download} {{::attachment.file_name}}" href="javascript:void(0)"&gt;
                                      {{::attachment.file_name}} ({{::attachment.size}})
                                    &lt;/a&gt;
                                    &lt;input tabindex="-1" ng-keydown="item.attachmentHandler.onKeyDown($event, attachment)" ng-blur="item.attachmentHandler.updateAttachment($event, attachment)" style="display: none;"/&gt;
                                    &lt;div&gt;
                                      &lt;time&gt;&lt;sn-time-ago timestamp="::attachment.sys_updated_on" /&gt;&lt;/time&gt;
                                    &lt;/div&gt;
                                  &lt;/div&gt;
                                  &lt;div class="col-md-2 col-sm-3 col-xs-3 tools v-middle align-right"&gt;
                                    &lt;div class="btn-group" ng-if="::(attachment.canWrite || attachment.canDelete)"&gt;
                                      &lt;button type="button" tabindex="0" class="btn btn-default btn-clear" ng-click="item.attachmentHandler.editAttachment($event, attachment)" title="${Edit file name}" aria-label="${Edit file name}"&gt;&lt;i class="fa fa-pencil" aria-hidden="true"&gt;&lt;/i&gt;&lt;/button&gt;
                                      &lt;button type="button" tabindex="0" class="btn btn-default btn-clear" ng-click="item.confirmDeleteAttachment(attachment, $event)" title="${Delete}" aria-label="${Delete}"&gt;&lt;i class="fa fa-times" aria-hidden="true"&gt;&lt;/i&gt;&lt;/button&gt;
                                    &lt;/div&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/li&gt;
                            &lt;/ul&gt;
                            &lt;div class="errors-wrap" ng-hide="errorMessages.length == 0"&gt;
                              &lt;div class="error-msg icon-cross" ng-repeat="error in errorMessages" ng-click="item.attachmentHandler.dismissMsg($event, $index, errorMessages)"&gt;
                                &lt;span&gt;{{error.msg}}&lt;/span&gt;
                                &lt;span class="file-name"&gt;{{error.fileName}}&lt;/span&gt;
                              &lt;/div&gt;
                            &lt;/div&gt;
                          &lt;/div&gt;
                          
                          &lt;label ng-if="!submitted &amp;&amp; !item.no_attachments" class="attachment-label"&gt;
                            &lt;span class="file-upload-input"&gt;
                              &lt;input type="file" style="display: none" multiple="true" ng-file-select="item.attachmentHandler.onFileSelect($files)" class="sp-attachments-input"/&gt;
                              &lt;button title="" ng-click="item.attachmentHandler.openSelector($event)" class="panel-button sp-attachment-add btn btn-link" aria-label="${Add attachment}"&gt;&lt;span class="glyphicon glyphicon-paperclip"&gt;&lt;/span&gt;&lt;/button&gt;
                            &lt;/span&gt;
                            &lt;span class="fa fa-asterisk mandatory" 
                  								ng-if="item.mandatory_attachment &amp;&amp; item.included" 
								                  ng-class="{'mandatory-filled': item.mandatory_attachment &amp;&amp; item.attachment_submitted}"
                								  style="vertical-align:super"&gt;&lt;/span&gt;
								            &lt;span&gt;${Add attachments}&lt;/span&gt;
                          &lt;/label&gt;
                      &lt;/div&gt;
										&lt;/div&gt;
									&lt;/div&gt;
								&lt;/div&gt;
              &lt;/uib-accordion-group&gt;
            &lt;/uib-accordion&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class="empty-state-content" ng-if="includedItems.length == 0 &amp;&amp; !evaluatingIncludes"&gt;
            			&lt;h3&gt;${Order Guide has no items to order}&lt;/h3&gt;
          			&lt;/div&gt;
				&lt;/div&gt;
				&lt;div ng-if="guide_step == 2"&gt;
					&lt;div class="list-group"&gt;
						&lt;table class="table table-striped m-b-sm light-border-bottom summary add-margin-bottom-xs" summary="${Summary of the guide}"&gt;
							&lt;thead&gt;
								&lt;tr&gt;
									&lt;th class="wrapper-sm wrapper-cart-xs col-md-5 col-lg-5 col-xs-8 col-sm-8 border-bottom-xs" scope="col"&gt;${Order Guide Details}&lt;/th&gt;
									&lt;th class="wrapper-sm col-md-1 col-lg-1 text-a-c hidden-xs hidden-sm" scope="col"&gt;${Quantity}&lt;/th&gt;
									&lt;th class="wrapper-sm col-md-2 col-lg-2 text-a-c hidden-xs hidden-sm" scope="col"&gt;${Total Price}&lt;/th&gt;
									&lt;th class="wrapper-sm col-md-2 col-lg-2 text-a-c hidden-xs hidden-sm" scope="col"&gt;${Recurring}&lt;/th&gt;
                  &lt;th class="wrapper-sm wrapper-cart-xs col-md-2 col-lg-2 col-xs-4 col-sm-4 border-bottom-xs" scope="col" ng-hide="totalIncluded == includedItems.length" style="width:12%"&gt;&lt;/th&gt;
								&lt;/tr&gt;
							&lt;/thead&gt;
							&lt;tbody&gt;
								&lt;tr ng-repeat="item in ::includedItems track by item.sys_id| orderBy: 'order'" ng-class="::{'summary-excluded': !item.included}"&gt;
									&lt;td class="wrapper-sm v-middle wrapper-cart-xs border-top-xs"&gt;
                    &lt;span class="hidden-md hidden-lg"&gt;{{::item.quantity}} &lt;/span&gt;
										&lt;span class="wrap-word"&gt;{{::item.name}}&lt;/span&gt;
									&lt;/td&gt;
									&lt;td class="wrapper-sm v-middle text-a-c hidden-xs hidden-sm"&gt;
										&lt;span&gt;{{::(!item.no_quantity? item.quantity : '---')}}&lt;/span&gt;
									&lt;/td&gt;
									&lt;td class="wrapper-sm v-middle text-a-c hidden-xs hidden-sm"&gt;
										&lt;span&gt;&lt;strong&gt;{{::(data.showPrices &amp;&amp; item.price &amp;&amp; item.price_subtotal ? item.price_subtotal_display : '---')}}&lt;/strong&gt;&lt;/span&gt;
									&lt;/td&gt;
									&lt;td class="wrapper-sm v-middle text-a-c hidden-xs hidden-sm"&gt;
										&lt;span class="clearfix"&gt;&lt;strong&gt;{{::(data.showPrices &amp;&amp; item.recurring_price &amp;&amp; item.recurring_price_subtotal ? item.recurring_price_subtotal_display : '---')}}&lt;/strong&gt;&lt;/span&gt;
										&lt;span ng-if="::(data.showPrices &amp;&amp; item.recurring_price &amp;&amp; item.recurring_price_frequency)" style="font-size:10px"&gt;{{::item.recurring_price_frequency}}&lt;/span&gt;
									&lt;/td&gt;
                  &lt;td class="wrapper-sm v-middle text-a-r wrapper-cart-xs border-top-xs" ng-hide="::(totalIncluded == includedItems.length)"&gt;
										&lt;span ng-if="::!item.included" class="wrapper-xs not-included not-included-pill"&gt;${NOT INCLUDED}&lt;/span&gt;
									&lt;/td&gt;
								&lt;/tr&gt;
							&lt;/tbody&gt;
						&lt;/table&gt;
						&lt;div class="padder-v clearfix hidden-xs hidden-sm" style="padding-top: 25px !important"&gt;
              &lt;div class="pull-right"&gt;
                &lt;button ng-disabled="submitted" name="add_to_cart" ng-click="triggerAddToCart()" class="btn btn-default m-r m-l m-r-6" ng-if="options.show_add_cart_button == 'true' &amp;&amp; !data.sc_cat_item.no_cart"&gt;${Add to Cart}&lt;/button&gt;
                &lt;button ng-disabled="submitted" name="prev" ng-click="goPrev()" class="btn btn-default m-r m-r-6"&gt;${Edit Options}&lt;/button&gt;
                &lt;button ng-disabled="submitted" name="order" ng-click="triggerSubmit()" class="btn btn-primary" sn-focus="guide_step == 2"&gt;{{::submitButtonMsg}}&lt;/button&gt;
              &lt;/div&gt;
						&lt;div class="pull-right m-r-lg m-l wrapper-sm" ng-if="data.showPrices" style="top: -10px;position: relative;"&gt;
								&lt;div class="pull-left"&gt;&lt;strong&gt;${Total} : &lt;/strong&gt;
								&lt;/div&gt;
								&lt;div class="pull-left m-l-xs"&gt;
									&lt;div&gt;&lt;strong&gt; {{price_display}}&lt;/strong&gt;
									&lt;/div&gt;
									&lt;div ng-repeat="freq in ::frequencySequence"&gt;
										&lt;span class="clearfix" ng-if="frequencyMap.hasOwnProperty(freq)" style="font-size:13px"&gt; + {{(frequencyMap[freq] + ' ' + freq)}}&lt;/span&gt;
									&lt;/div&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
            
            &lt;div class="clearfix visible-xs visible-sm"&gt;
              &lt;div class="pull-left m-r-lg m-b-sm" ng-if="::data.showPrices"&gt;
								&lt;div class="pull-left"&gt;&lt;strong&gt;${Total : }&lt;/strong&gt;
								&lt;/div&gt;
								&lt;div class="pull-left m-l-xs"&gt;
									&lt;div&gt;&lt;strong&gt; {{price_display}}&lt;/strong&gt;
									&lt;div ng-repeat="freq in ::frequencySequence"&gt;
										&lt;span class="clearfix" ng-if="frequencyMap.hasOwnProperty(freq)" style="font-size:13px"&gt; + {{(frequencyMap[freq] + ' ' + freq)}}&lt;/span&gt;
									&lt;/div&gt;
									&lt;/div&gt;
								&lt;/div&gt;
							&lt;/div&gt;
            	&lt;button ng-disabled="submitted" name="add_to_cart" ng-click="triggerAddToCart()" class="btn btn-default m-b-sm col-xs-12" ng-if="options.show_add_cart_button == 'true' &amp;&amp; !data.sc_cat_item.no_cart"&gt;
                  ${Add to Cart}&lt;/button&gt;
              &lt;button ng-disabled="submitted" name="prev" ng-click="goPrev()" class="btn btn-default m-b-sm col-xs-12"&gt;
                  ${Edit Options}&lt;/button&gt;
              &lt;button ng-disabled="submitted" name="order" ng-click="triggerSubmit()" class="btn btn-primary col-xs-12" sn-focus="guide_step == 2"&gt;
                  {{::submitButtonMsg}}&lt;/button&gt;
            &lt;/div&gt;
            
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class="guide-nav" ng-hide="evaluatingIncludes || guide_step == 2" ng-class="{'guide-nav-setp1': guide_step == 1}"&gt;
          &lt;div class="pull-right"&gt;
            &lt;button ng-hide="guide_step != 1 || submitted" name="submit" ng-click="goPrev()" class="btn btn-default padder pull-left-xs" ng-class="{'m-r-6': guide_step &lt; 2}"&gt;{{::m.prevMsg}}&lt;/button&gt;
            &lt;button id="submit" ng-hide="guide_step &gt; 1" ng-disabled="submitted || data.sc_cat_item._mandatory.length &gt; 0 || (totalIncluded &lt;= 0 &amp;&amp; guide_step != 0)" name="submit" ng-click="goNext()" class="btn btn-primary padder-lg" sn-focus="guide_step &lt; 2"&gt;{{::m.nextMsg}}&lt;/button&gt;
          &lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;div ng-if="::!data.sc_cat_item"&gt;
		&lt;div class="panel panel-default"&gt;
			&lt;div class="panel-heading"&gt;
				&lt;h4 class="panel-title"&gt;${Item not found}&lt;/h4&gt;
			&lt;/div&gt;
			&lt;div class="panel-body wrapper"&gt;
				&lt;p&gt;${This item is not found or currently not available}&lt;/p&gt;
				&lt;p&gt;${Suggestions}:&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;${Try searching for the item}&lt;/li&gt;
					&lt;li&gt;${Go to the Service Catalog homepage}&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div ng-if="::!data.recordFound" class="alert alert-info"&gt;{{::m.invalidRecordMsg}}&lt;/div&gt;
&lt;now-message key="Items have been added successfully" value="${Items have been added successfully}"/&gt;
&lt;now-message key="Catalog Home" value="${Catalog Home}"/&gt;
&lt;now-message key="View Cart" value="${View Cart}"/&gt;
&lt;now-message key="Attachment(s) are not added" value="${Attachment(s) are not added}"/&gt;
&lt;now-message key="Leave page?" value="${Leave page?}"/&gt;
&lt;now-message key="Changes you made will be lost." value="${Changes you made will be lost.}"/&gt;
&lt;now-message key="Cancel" value="${Cancel}"/&gt;
&lt;now-message key="Leave" value="${Leave}"/&gt;

&lt;script type="text/ng-template" id="group-template.html"&gt;
   &lt;div&gt;
    &lt;div class="panel-heading"&gt;
      &lt;div class="panel-title"&gt;
        &lt;div tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" role="none"&gt;
          &lt;span uib-accordion-header&gt;
          &lt;/span&gt;
        &lt;/div&gt;
  		&lt;/div&gt;
  	&lt;/div&gt;
    &lt;div class="panel-collapse collapse" uib-collapse="!isOpen"&gt;
      &lt;div ng-transclude&gt;&lt;/div&gt;
  	&lt;/div&gt;
  &lt;/div&gt;
  &lt;/script&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;</payload><sys_class_name>sp_rel_widget_clone</sys_class_name><sys_created_by>jacob</sys_created_by><sys_created_on>2019-09-15 06:08:01</sys_created_on><sys_id>825aa497db77f34090c6d6a75e961928</sys_id><sys_mod_count>0</sys_mod_count><sys_name>0a5aa097db77f34090c6d6a75e961993</sys_name><sys_package display_value="SC Order Guide Alt" source="351ae457db77f34090c6d6a75e96197d">351ae457db77f34090c6d6a75e96197d</sys_package><sys_policy/><sys_scope display_value="SC Order Guide Alt">351ae457db77f34090c6d6a75e96197d</sys_scope><sys_update_name>sp_rel_widget_clone_825aa497db77f34090c6d6a75e961928</sys_update_name><sys_updated_by>jacob</sys_updated_by><sys_updated_on>2019-09-15 06:08:01</sys_updated_on></sp_rel_widget_clone></record_update>]]></payload>
<payload_hash>221972390</payload_hash>
<remote_update_set display_value="SC Order Guide Alt">e3862e00db10481090c6d6a75e9619a3</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>jacob</sys_created_by>
<sys_created_on>2019-09-30 09:21:51</sys_created_on>
<sys_id>ff862e00db10481090c6d6a75e9619a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>16d8170afd40000001</sys_recorded_at>
<sys_updated_by>jacob</sys_updated_by>
<sys_updated_on>2019-09-30 09:21:51</sys_updated_on>
<table/>
<target_name>0a5aa097db77f34090c6d6a75e961993</target_name>
<type>Widget Clone</type>
<update_domain>global</update_domain>
<update_guid>c25aa497ab77f340425c8058f1976929</update_guid>
<update_guid_history>c25aa497ab77f340425c8058f1976929:1576769627,c25aa497ab77f340425c8058f1976929:1576769627</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
